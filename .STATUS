# flow-cli - Pure ZSH Workflow Plugin
# ADHD-optimized workflow management for developers

## Project: flow-cli
## Type: zsh-plugin
## Status: active
## Phase: v3.1.0 - Dashboard UX Improvements
## Priority: 1
## Progress: 35

## Focus: Phase 1 complete - Phase 2 next (dopamine features)

## Quick Context
Pure ZSH workflow plugin with optional atlas integration for state management.
Clean separation from atlas (Node.js state engine) complete.
Legacy 140KB monolithic code archived - lean plugin architecture.

## Architecture (Final)
```
flow-cli/
â”œâ”€â”€ flow.plugin.zsh        # Plugin entry point
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ core.zsh           # Core utilities, colors
â”‚   â”œâ”€â”€ atlas-bridge.zsh   # Atlas CLI integration (graceful fallback)
â”‚   â”œâ”€â”€ project-detector.zsh
â”‚   â”œâ”€â”€ tui.zsh            # TUI components
â”‚   â””â”€â”€ dispatchers/       # v, g, mcp, obs dispatchers
â”œâ”€â”€ commands/
â”‚   â”œâ”€â”€ work.zsh           # work, finish, hop, why
â”‚   â”œâ”€â”€ dash.zsh           # dash, dash-tui
â”‚   â”œâ”€â”€ capture.zsh        # catch, inbox, crumb, win, yay
â”‚   â”œâ”€â”€ adhd.zsh           # js, next, stuck, focus, brk
â”‚   â”œâ”€â”€ status.zsh         # status, st, setprogress
â”‚   â”œâ”€â”€ timer.zsh          # timer, pom
â”‚   â””â”€â”€ morning.zsh        # morning, today, week, am
â”œâ”€â”€ completions/           # ZSH completions
â”œâ”€â”€ hooks/                 # chpwd, precmd
â””â”€â”€ zsh/functions/         # Symlinks to external integrations only
    â”œâ”€â”€ core-utils.zsh â†’ zsh-claude-workflow/
    â”œâ”€â”€ obs.zsh â†’ obsidian-cli-ops/
    â””â”€â”€ project-detector.zsh â†’ zsh-claude-workflow/
```

## v3.0.0 Changes (2025-12-25)
- [x] Archive 140KB legacy zsh/functions/ to .archive/
- [x] Keep only symlinks to external integrations
- [x] Remove FLOW_LEGACY_COMPAT flag (no longer needed)
- [x] Update plugin loading to handle symlinks properly
- [x] Bump version to 3.0.0

## Completed
- [x] Create ZSH plugin structure
- [x] Migrate core commands to commands/
- [x] Create lib/core.zsh, atlas-bridge.zsh
- [x] Create all core commands (work, dash, capture, adhd, status, timer, morning)
- [x] Move dispatchers to lib/dispatchers/
- [x] Archive Node.js CLI to atlas project
- [x] Archive legacy 140KB functions to .archive/
- [x] Clean plugin entry point
- [x] Update version to 3.0.0

## Features
### Core Commands
- `work <project>` - Start working on a project
- `finish [note]` - End session with optional commit
- `hop <project>` - Quick project switch (tmux)
- `why` - Show current context

### Dashboard
- `dash` - Project dashboard
- `dash-tui` - Interactive fzf dashboard

### Capture (Dopamine)
- `catch <text>` - Quick idea capture
- `crumb <text>` - Leave breadcrumb
- `win <text>` - Log accomplishment
- `yay` - Show recent wins

### ADHD Helpers
- `js` - Just start (anti-paralysis)
- `next` - What to work on
- `stuck` - When blocked
- `focus [text]` - Get/set focus
- `brk [min]` - Take a break

### Status Management
- `status [project]` - Show/update status
- `setprogress <n>` - Quick progress update

### Timers
- `timer [min]` - Focus timer
- `timer break` - Break timer
- `pom [cycles]` - Pomodoro

### Daily Routine
- `morning` - Start of day overview
- `today` - Today's status
- `week` - Weekly review
- `am` - Quick morning check

## Integration
- Atlas: Optional state engine (`npm i -g @data-wise/atlas`)
- Graceful degradation when atlas not installed
- All commands work standalone

## Installation
```bash
# As ZSH plugin (antidote)
antidote install data-wise/flow-cli

# Manual
source /path/to/flow.plugin.zsh
```

## Configuration
```zsh
# In .zshrc before sourcing plugin:
FLOW_PROJECTS_ROOT=~/projects
FLOW_ATLAS_ENABLED=auto    # auto|yes|no
FLOW_LOAD_DISPATCHERS=yes  # Load v, g, mcp, obs
FLOW_QUIET=1               # Disable welcome message
```

## Links
- GitHub: https://github.com/Data-Wise/flow-cli
- Atlas: https://github.com/Data-Wise/atlas
- npm (atlas): `npm install -g @data-wise/atlas`

## Next: v3.1.0 - Dashboard Enhancements
- [x] Phase 1: High impact improvements âœ… COMPLETE
  - [x] RIGHT NOW section with smart suggestion
  - [x] 10-char progress bars (was 5-char)
  - [x] Enhanced active session (â”â”â”“ borders)
  - [x] Session timer with progress bar
  - [x] Context-aware footer
- [ ] Phase 2: Dopamine features (NEXT)
  - [ ] Quick wins section (< 30min tasks)
  - [ ] Recent wins display
  - [ ] Urgency indicators (ğŸ”¥â°âš¡)
- [ ] Phase 3: Polish
  - [ ] Enhanced streak visualization
  - [ ] Daily goal tracking
  - [ ] Extended .STATUS format

## Session Log
- 2025-12-26: DOCTOR - Created `flow doctor` command with --fix and --ai modes
- 2025-12-26: DOCTOR - Created setup/Brewfile with 14 recommended CLI tools
- 2025-12-26: DOCTOR - Fixed 10+ broken documentation links
- 2025-12-26: DOCTOR - Updated COMMAND-QUICK-REFERENCE.md and installation.md
- 2025-12-26: DOCTOR - Deployed updated website to GitHub Pages
- 2025-12-25: Phase 1 COMPLETE - All 5 improvements implemented and tested
- 2025-12-25: Dashboard UX review - designed ADHD-friendly improvements
- 2025-12-25: Fixed external command deps (sed/cut/wc/tr/date â†’ ZSH builtins)
- 2025-12-25: v3.0.0 - Clean Architecture achieved
- 2025-12-25: Legacy 140KB functions archived
- 2025-12-25: Symlink-only external integrations
