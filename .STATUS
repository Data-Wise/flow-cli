# flow-cli - Pure ZSH Workflow Plugin
# ADHD-optimized workflow management for developers

## Project: flow-cli
## Type: zsh-plugin
## Status: active
## Phase: v4.8.1 Complete ‚Üí v4.9.0 Planning
## Priority: 1
## Progress: 100

## Focus: v4.8.1 - SHIPPED! üöÄ Homebrew Documentation Overhaul Complete

## ‚úÖ Just Completed (2026-01-05):
- **v4.8.1 Release** - Homebrew installation now primary method
  - README.md: Homebrew moved to top with ‚≠ê designation
  - docs/index.md: Homebrew tab added first ("No shell config needed!")
  - docs/getting-started/installation.md: Complete Homebrew lifecycle docs
  - docs/getting-started/faq.md: Added "How do I install?" with Homebrew
  - Better onboarding: ~30 seconds vs ~5-10 minutes
  - PR #165 (Homebrew docs), #166 (CHANGELOG), #167 (version bump) - all merged
  - GitHub Release: https://github.com/Data-Wise/flow-cli/releases/tag/v4.8.1
  - Homebrew formula updated (cc9b569)

- **v4.8.0 Release** - CC Unified Grammar shipped same-day
  - Both command orders work: `cc opus pick` AND `cc pick opus`
  - Shell completions (_cc) with context-aware suggestions (134 lines)
  - 30 comprehensive tests (100% passing)
  - Fixed `cc haiku` eval bug
  - GitHub release created with full release notes

- **Post-release Documentation** - Zero warnings achieved
  - Rewrote START-HERE guide (complete overhaul from 2025-12-19 content)
  - Added v4.9.0 roadmap (5 enhancement options, phased approach)
  - Fixed all broken documentation links (13 ‚Üí 0 warnings)
  - Spec archived: SPEC-cc-unified-grammar-2026-01-02.md ‚Üí _archive/
  - Deployed clean docs to GitHub Pages

- **Release Automation**
  - Homebrew formula updated (automated PR #9)
  - 3 PRs merged: #162 (feature), #163 (docs), #164 (final fixes)
  - All CI tests passing (11-16 seconds)

## Quick Context
Pure ZSH workflow plugin with optional atlas integration for state management.
Clean separation from atlas (Node.js state engine) complete.
Legacy 140KB monolithic code archived - lean plugin architecture.

## Architecture (v3.2.0)
```
flow-cli/
‚îú‚îÄ‚îÄ flow.plugin.zsh        # Plugin entry point (v3.2.0)
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ core.zsh           # Core utilities, colors
‚îÇ   ‚îú‚îÄ‚îÄ atlas-bridge.zsh   # Atlas CLI integration (graceful fallback)
‚îÇ   ‚îú‚îÄ‚îÄ project-detector.zsh
‚îÇ   ‚îú‚îÄ‚îÄ tui.zsh            # TUI components
‚îÇ   ‚îî‚îÄ‚îÄ dispatchers/       # g, mcp, obs, qu, r, cc dispatchers
‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îú‚îÄ‚îÄ work.zsh           # work, finish, hop, why
‚îÇ   ‚îú‚îÄ‚îÄ dash.zsh           # dash, dash-tui
‚îÇ   ‚îú‚îÄ‚îÄ capture.zsh        # catch, inbox, crumb, win, yay
‚îÇ   ‚îú‚îÄ‚îÄ adhd.zsh           # js, next (--ai), stuck (--ai), focus, brk
‚îÇ   ‚îú‚îÄ‚îÄ status.zsh         # status, st, setprogress
‚îÇ   ‚îú‚îÄ‚îÄ timer.zsh          # timer, pom
‚îÇ   ‚îú‚îÄ‚îÄ morning.zsh        # morning, today, week, am
‚îÇ   ‚îú‚îÄ‚îÄ flow.zsh           # flow dispatcher (help, version, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ ai.zsh             # flow ai, flow do (NEW v3.2.0)
‚îÇ   ‚îú‚îÄ‚îÄ install.zsh        # flow install (NEW v3.2.0)
‚îÇ   ‚îî‚îÄ‚îÄ upgrade.zsh        # flow upgrade (NEW v3.2.0)
‚îú‚îÄ‚îÄ completions/           # ZSH completions
‚îú‚îÄ‚îÄ hooks/                 # chpwd, precmd
‚îú‚îÄ‚îÄ setup/                 # Setup files
‚îÇ   ‚îî‚îÄ‚îÄ Brewfile           # Recommended CLI tools
‚îî‚îÄ‚îÄ zsh/functions/         # Symlinks to external integrations only
    ‚îú‚îÄ‚îÄ core-utils.zsh ‚Üí zsh-claude-workflow/
    ‚îú‚îÄ‚îÄ obs.zsh ‚Üí obsidian-cli-ops/
    ‚îî‚îÄ‚îÄ project-detector.zsh ‚Üí zsh-claude-workflow/
```

## v3.6.2 Changes (2025-12-27) ‚úÖ COMPLETE
### CC Dispatcher Bug Fix
- [x] Fixed `cc <mode> pick <project>` variants not passing args to pick
- [x] All 5 pick variants now work: pick, yolo pick, plan pick, opus pick, haiku pick
- [x] 52 tests passing (24 cc-dispatcher + 10 pick-variants + 18 pick-defaults)

### Release Automation
- [x] Created `scripts/release.sh` for automated version bumping
- [x] Updates package.json, README badge, CLAUDE.md, CC-DISPATCHER-REFERENCE.md
- [x] Added release instructions to CLAUDE.md

### Documentation
- [x] Updated CC-DISPATCHER-REFERENCE.md with all pick variant combinations
- [x] Fixed README badge (static for private repo)
- [x] Removed orphan docs causing build warnings
- [x] Deployed updated docs to GitHub Pages

## CC Dispatcher (2025-12-27) ‚úÖ COMPLETE
- [x] Added `cc` dispatcher for Claude Code workflows
- [x] Default launches Claude in current directory (not picker)
- [x] `cc pick` subcommand for project selection
- [x] Consistent pattern: `<mode>` = here, `<mode> pick` = picker
- [x] `cc now` deprecated (redundant with new default)
- [x] Updated all docs (CLAUDE.md, README.md, DISPATCHER-REFERENCE.md)

## v3.3.0 Changes (2025-12-26) ‚úÖ COMPLETE
### Plugin System
- [x] `lib/plugin-loader.zsh` - Core plugin system (400+ lines)
  - [x] Plugin discovery (single file, directory, git)
  - [x] Plugin registration and loading
  - [x] Enable/disable with registry persistence
  - [x] Dependency checking (tools, flow version)
- [x] Hook system with 8 events
  - [x] post-work, pre-finish, post-finish
  - [x] session-start, session-end
  - [x] project-change, pre-command, post-command
- [x] `flow plugin` command
  - [x] list, enable, disable, create, install, remove
  - [x] info, hooks, path
  - [x] GitHub installation support (gh:user/repo)
  - [x] Dev mode installation (symlink)
- [x] Example plugin demonstrating capabilities
- [x] Tab completions for plugin commands
- [x] Version bump to 3.3.0

## v3.2.0 Changes (2025-12-26) ‚úÖ COMPLETE
### AI-Powered Commands
- [x] `flow ai <query>` - Ask AI anything with project context
- [x] `flow ai --explain <code>` - Explain code or concepts
- [x] `flow ai --fix <problem>` - Get fix suggestions
- [x] `flow ai --suggest <goal>` - Get improvement suggestions
- [x] `flow ai --create <spec>` - Generate code from description
- [x] `flow do "<natural language>"` - Natural language ‚Üí shell command
- [x] `stuck --ai` - AI-powered help when blocked
- [x] `next --ai` - AI-powered task suggestions

### Install & Upgrade System
- [x] `flow install` - Interactive tool installer
- [x] `flow install --profile <name>` - Profile-based install (minimal/developer/researcher/writer/full)
- [x] `flow install --category <name>` - Category-based install (core/productivity/git/dev/research)
- [x] `flow upgrade self` - Self-update flow-cli via git
- [x] `flow upgrade tools` - Update Homebrew packages
- [x] `flow upgrade plugins` - Update ZSH plugins
- [x] `flow upgrade all` - Update everything
- [x] `flow upgrade --check` - Check for updates without applying

### Infrastructure
- [x] Tab completions for all new commands
- [x] Help system integration
- [x] Context-aware AI prompts
- [x] Safety checks for dangerous commands in `flow do`
- [x] Version bump to 3.2.0

## v3.1.0 Changes (2025-12-26) ‚úÖ COMPLETE
- [x] `flow doctor` command with --fix and --ai modes
- [x] setup/Brewfile with 14 recommended CLI tools
- [x] Dashboard Phase 1 enhancements complete

## v3.0.0 Changes (2025-12-25) ‚úÖ COMPLETE
- [x] Archive 140KB legacy zsh/functions/ to .archive/
- [x] Keep only symlinks to external integrations
- [x] Remove FLOW_LEGACY_COMPAT flag (no longer needed)
- [x] Update plugin loading to handle symlinks properly
- [x] Bump version to 3.0.0

## Completed
- [x] Create ZSH plugin structure
- [x] Migrate core commands to commands/
- [x] Create lib/core.zsh, atlas-bridge.zsh
- [x] Create all core commands (work, dash, capture, adhd, status, timer, morning)
- [x] Move dispatchers to lib/dispatchers/
- [x] Archive Node.js CLI to atlas project
- [x] Archive legacy 140KB functions to .archive/
- [x] Clean plugin entry point
- [x] Update version to 3.0.0

## Features
### Core Commands
- `work <project>` - Start working on a project
- `finish [note]` - End session with optional commit
- `hop <project>` - Quick project switch (tmux)
- `why` - Show current context

### Dashboard
- `dash` - Project dashboard
- `dash-tui` - Interactive fzf dashboard

### Capture (Dopamine)
- `catch <text>` - Quick idea capture
- `crumb <text>` - Leave breadcrumb
- `win <text>` - Log accomplishment
- `yay` - Show recent wins

### ADHD Helpers
- `js` - Just start (anti-paralysis)
- `next` - What to work on (`--ai` for AI suggestion)
- `stuck` - When blocked (`--ai` for AI help)
- `focus [text]` - Get/set focus
- `brk [min]` - Take a break

### AI-Powered (v3.2.0)
- `flow ai <query>` - Ask AI with context
- `flow ai --explain` - Explain code/concepts
- `flow ai --fix` - Get fix suggestions
- `flow ai --suggest` - Get improvements
- `flow ai --create` - Generate code
- `flow do "..."` - Natural language commands

### Setup & Management (v3.2.0)
- `flow install` - Interactive tool installer
- `flow install --profile <p>` - Install by profile
- `flow upgrade self` - Update flow-cli
- `flow upgrade tools` - Update brew packages
- `flow doctor` - Health check & diagnostics

### Status Management
- `status [project]` - Show/update status
- `setprogress <n>` - Quick progress update

### Timers
- `timer [min]` - Focus timer
- `timer break` - Break timer
- `pom [cycles]` - Pomodoro

### Daily Routine
- `morning` - Start of day overview
- `today` - Today's status
- `week` - Weekly review
- `am` - Quick morning check

## Integration
- Atlas: Optional state engine (`npm i -g @data-wise/atlas`)
- Graceful degradation when atlas not installed
- All commands work standalone

## Installation
```bash
# As ZSH plugin (antidote)
antidote install data-wise/flow-cli

# Manual
source /path/to/flow.plugin.zsh
```

## Configuration
```zsh
# In .zshrc before sourcing plugin:
FLOW_PROJECTS_ROOT=~/projects
FLOW_ATLAS_ENABLED=auto    # auto|yes|no
FLOW_LOAD_DISPATCHERS=yes  # Load v, g, mcp, obs
FLOW_QUIET=1               # Disable welcome message
```

## Links
- GitHub: https://github.com/Data-Wise/flow-cli
- Atlas: https://github.com/Data-Wise/atlas
- npm (atlas): `npm install -g @data-wise/atlas`

## Roadmap

### v4.8.0 - CC Unified Grammar ‚úÖ SHIPPED (2026-01-02)
**Status:** Released and deployed
**Spec:** `docs/specs/_archive/SPEC-cc-unified-grammar-2026-01-02.md` (archived)
**Release:** https://github.com/Data-Wise/flow-cli/releases/tag/v4.8.0
**Release Notes:** `RELEASE-v4.8.0.md`

#### Summary
Same-day release cycle: 0% ‚Üí Design ‚Üí Implement ‚Üí Test ‚Üí Release ‚Üí Deploy ‚Üí Document
- ‚úÖ Both command orders work (`cc opus pick` AND `cc pick opus`)
- ‚úÖ Shell completions with context-aware suggestions
- ‚úÖ 54 tests passing (30 unified grammar + 24 cc-dispatcher)
- ‚úÖ Zero breaking changes
- ‚úÖ Documentation deployed with zero warnings
- ‚úÖ Homebrew formula updated

**Shipped:** 2026-01-02

### v3.3.0 - Configuration & Plugin System ‚úÖ COMPLETE
- [x] `flow config` - Interactive configuration
  - [x] `flow config show` - Display current config
  - [x] `flow config set <key> <value>` - Set config value
  - [x] `flow config edit` - Open config in editor
  - [x] `flow config reset` - Reset to defaults
  - [x] `flow config wizard` - Interactive configuration wizard
  - [x] `flow config export` - Export config in shell format
  - [x] `flow config path` - Show config file paths
- [x] Plugin system
  - [x] Plugin loader architecture (lib/plugin-loader.zsh, 400+ lines)
  - [x] Plugin discovery (local + git)
  - [x] `flow plugin list` - List available plugins
  - [x] `flow plugin install <name>` - Install plugin
  - [x] `flow plugin enable/disable` - Toggle plugins
  - [x] `flow plugin create` - Create new plugin from template
  - [x] Hook system with 8 events
- [x] Configuration profiles
  - [x] `flow config profile save <name>` - Save current config
  - [x] `flow config profile load <name>` - Load config profile
  - [x] Built-in profiles: minimal, developer, adhd, researcher
  - [x] Export/import for sharing

### v3.4.0 - AI Enhancement ‚úÖ COMPLETE
- [x] AI recipes/templates
  - [x] 10 built-in recipes (review, commit, debug, refactor, test, etc.)
  - [x] `flow ai recipe <name>` - Run saved recipe
  - [x] Custom recipe creation (`flow ai recipe create`)
  - [x] Variable substitution ({{input}}, {{project_type}}, etc.)
- [x] Usage tracking & suggestions
  - [x] `lib/ai-usage.zsh` - Track AI command usage
  - [x] `flow ai usage stats` - Show usage statistics
  - [x] `flow ai usage suggest` - Personalized suggestions
  - [x] Project-type aware recommendations
- [x] Multi-model support
  - [x] `flow ai model list` - List available models
  - [x] `flow ai model set <name>` - Set default model
  - [x] `--model` flag for one-off model selection
  - [x] Opus, Sonnet, Haiku support
- [x] Conversation mode
  - [x] `flow ai chat` - Interactive session
  - [x] Context persistence
  - [x] /commands for in-chat control
- [x] Dashboard enhancements (v3.5.0 preview)
  - [x] Quick wins section (< 30min tasks)
  - [x] Urgency indicators (üî•‚è∞‚ö°)

### v3.5.0 - Dashboard Polish (IN PROGRESS)
- [x] Dopamine features
  - [x] Recent wins display in `dash` (show last 3 wins with timestamps)
  - [x] Streak visualization (üî• consecutive days counter)
  - [x] `yay --week` - Weekly accomplishments summary with mini graph
  - [x] Win categories (code, docs, review, ship, fix, test) with auto-detection
- [x] Daily goal tracking
  - [x] `flow goal set <n>` - Set daily task goal
  - [x] `flow goal` - Show progress toward daily goal (with progress bar)
  - [x] Goal display in dash (shows progress in wins section)
  - [x] .STATUS field: `daily_goal: 3` with per-project override
- [x] Extended .STATUS format
  - [x] `wins:` - Recent wins array
  - [x] `streak:` - Current streak count
  - [x] `last_active:` - Last activity timestamp
  - [x] `tags:` - Project tags for filtering
- [x] Interactive TUI improvements
  - [x] `dash --tui` keyboard shortcuts (Ctrl-E edit, Ctrl-S status, Ctrl-W wins)
  - [x] Live refresh option (`dash --watch`)
  - [x] Project preview pane with extended status and git log

### v4.0.0 - Ecosystem Integration ‚úÖ COMPLETE
- [x] Cross-tool orchestration
  - [x] `flow sync all` - Sync everything
  - [x] Unified status across tools

### v4.1.0 - Git Feature Workflow ‚úÖ COMPLETE
- [x] Feature branch workflow
  - [x] `g feature start <name>` - Create feature from dev
  - [x] `g feature sync` - Rebase onto dev
  - [x] `g feature list` - List feature/hotfix branches
  - [x] `g feature finish` - Push + create PR to dev
  - [x] `g promote` - PR feature ‚Üí dev
  - [x] `g release` - PR dev ‚Üí main
  - [x] Workflow guard - Blocks push to main/dev
- [x] Worktree management (`wt` dispatcher)
  - [x] `wt list` - List worktrees
  - [x] `wt create <branch>` - Create worktree
  - [x] `wt move` - Move current branch to worktree
  - [x] `wt remove <path>` - Remove worktree
  - [x] `wt clean` - Prune stale worktrees
- [x] 33 new tests (16 g feature + 17 wt dispatcher)
- [x] Documentation updated (DISPATCHER-REFERENCE.md)
- [x] See: docs/decisions/PROPOSAL-GIT-FEATURE-WORKFLOW.md

### v4.2.0 - Workflow Polish ‚úÖ COMPLETE
- [x] Branch cleanup
  - [x] `g feature prune` - Delete merged feature branches
  - [x] `g feature prune --all` - Also clean remote tracking branches
  - [x] `g feature prune -n` - Dry run preview
  - [x] 18 tests in test-g-feature-prune.zsh
  - [ ] Note: Rich interactive cleanup ‚Üí aiterm (`ait feature cleanup`)
- [x] Worktree + Claude integration ‚úÖ COMPLETE
  - [x] `cc wt <branch>` - Launch Claude in worktree (creates if needed)
  - [x] `cc wt pick` - fzf picker for existing worktrees
  - [x] `cc wt yolo|plan|opus <branch>` - Mode chaining support
  - [x] Aliases: `ccw`, `ccwy`, `ccwp`
  - [x] `_wt_get_path()` helper function in wt-dispatcher.zsh
  - [x] tests/test-cc-wt.zsh (20 tests, all passing)
  - [x] Bug fix: Renamed `local path` ‚Üí `local result_path` (zsh path array conflict)
  - [x] Docs: CC-DISPATCHER-REFERENCE.md, DISPATCHER-REFERENCE.md
  - [x] See: docs/decisions/BRAINSTORM-cc-wt-2025-12-29.md

#### Implementation Notes: cc wt (Completed)

Implementation in cc-dispatcher.zsh:
- Added `wt|worktree|w)` case to cc() dispatcher
- `_cc_worktree()` handles mode parsing (yolo/plan/opus/haiku) + branch
- `_cc_worktree_pick()` uses fzf for worktree selection
- `_cc_worktree_help()` provides formatted help
- Helper `_wt_get_path()` in wt-dispatcher.zsh

Key learnings:
- In zsh, `local path` shadows the `path` array (tied to `PATH`)
- Use `local result_path` or similar to avoid PATH corruption

### v4.3.0+ Future Enhancements

#### 1. `g feature prune --force` (P2, ~30 min)
**Implementation:** Add `--force|-f` flag parsing, skip confirmation when set.
```zsh
# In _g_feature_prune(), add:
local force=false
case "$1" in
    --force|-f) force=true; shift ;;
esac
# Then skip interactive confirmation if $force is true
```

#### 2. `wt prune` (P2, ~1 hour)
**Implementation:** Combine `wt clean` + `g feature prune` in sequence.
```zsh
# In wt(), add:
prune)
    shift
    case "$1" in
        --branches-only) g feature prune "$@" ;;
        --worktrees-only) git worktree prune ;;
        *) git worktree prune && g feature prune "$@" ;;
    esac
    ;;
```

#### 3. `g feature prune --older-than` (P3, ~1 hour)
**Implementation:** Parse duration, filter by commit date.
```zsh
# Parse: 30d ‚Üí 30 days, 1w ‚Üí 7 days
local max_age_days=0
if [[ "$1" == --older-than ]]; then
    local duration="$2"
    case "$duration" in
        *d) max_age_days="${duration%d}" ;;
        *w) max_age_days=$((${duration%w} * 7)) ;;
    esac
fi
# Filter: git log -1 --format=%ct "$branch" ‚Üí compare to now
```

#### 4. `g feature status` (P3, ~45 min)
**Implementation:** Show merged + unmerged branches with age info.
```zsh
_g_feature_status() {
    echo "üßπ Stale branches (merged to dev):"
    git branch --merged dev | while read branch; do
        [[ "$branch" == feature/* ]] || continue
        local age=$(git log -1 --format="%cr" "$branch")
        echo "  $branch ($age)"
    done

    echo "\n‚ö†Ô∏è  Unmerged branches:"
    git branch --no-merged dev | while read branch; do
        [[ "$branch" == feature/* ]] || continue
        local commits=$(git rev-list --count dev.."$branch")
        echo "  $branch ($commits commits ahead)"
    done
}
```

### v4.3.0 - Team & Remote (Future)
- [ ] Remote state sync
  - [ ] Optional cloud backup
  - [ ] Multi-device support
- [ ] Team features (optional)
  - [ ] Shared project templates
  - [ ] Team dashboards

## Session Log
- 2025-12-27: v4.0.0 RELEASE - Major version with unified sync command
- 2025-12-27: DOCS - Deployed v4.0.0 documentation to GitHub Pages
- 2025-12-27: DOCS - Deployed v3.6.3 documentation to GitHub Pages
- 2025-12-27: DOCS - Fixed 11 orphan pages, 2 broken links in mkdocs (PR #26)
- 2025-12-27: v3.6.3 - Version bump, maintenance release (PR #25)
- 2025-12-27: TEST - Added unit tests for _flow_status_get/set_field (12 tests) (PR #23)
- 2025-12-27: REFACTOR - Moved zmodload to module initialization in capture.zsh (PR #23)
- 2025-12-27: DOCS - Added TODO for atlas --type=win support (PR #23)
- 2025-12-27: FIX - win command now writes to local file (atlas lacks --type=win) (PR #21)
- 2025-12-27: FIX - _flow_status_get/set_field rewritten with pure ZSH builtins (PR #21)
- 2025-12-27: FIX - Cleaned malformed wins.md test data (empty date brackets)
- 2025-12-27: DOCS - Updated planning docs, deployed to GitHub Pages (PR #19)
- 2025-12-27: v4.0.0 - Implemented `flow sync all` unified sync command (595 lines)
- 2025-12-27: v4.0.0 - 5 sync targets: session, status, wins, goals, git
- 2025-12-27: v4.0.0 - Smart sync detection, dashboard, state file
- 2025-12-27: v4.0.0 - Created test-sync.zsh (40 tests, 100% pass)
- 2025-12-27: v4.0.0 - Created docs/commands/sync.md (comprehensive docs)
- 2025-12-27: DOCS - Rewrote ARCHITECTURE-ROADMAP.md for pure ZSH (was outdated Node.js CLI)
- 2025-12-27: DOCS - Created V4-PLANNING.md with ecosystem integration roadmap
- 2025-12-27: v3.6.2 - Created scripts/release.sh for automated version bumping
- 2025-12-27: v3.6.2 - Fixed README badge (static for private repo)
- 2025-12-27: v3.6.2 - Synced all version files to 3.6.2, cleaned orphan docs
- 2025-12-27: v3.6.2 - Updated CC-DISPATCHER-REFERENCE.md with pick variants
- 2025-12-27: v3.6.2 - Fixed cc pick variants bug (args passed to pick not claude)
- 2025-12-27: v3.6.1 - Added Scribe CLI integration, improved help format
- 2025-12-26: DOCS - Deployed v3.5.0 documentation to GitHub Pages
- 2025-12-26: v3.5.0 RELEASE - Version bumped to 3.5.0, all dopamine features complete
- 2025-12-26: v3.5.0 - Added daily_goal field to .STATUS with per-project override
- 2025-12-26: v3.5.0 - Extended .STATUS format (wins, streak, last_active, tags) implemented
- 2025-12-26: v3.5.0 - Interactive TUI improvements (Ctrl-E/S/W keybindings, watch mode)
- 2025-12-26: v3.5.0 - Fixed _flow_find_project_path eval bug (atlas shell format issue)
- 2025-12-26: v3.5.0 - Tested all dopamine features (win categories, goal, extended status)
- 2025-12-26: v3.5.0 - Win categories (code/docs/review/ship/fix/test) with auto-detection
- 2025-12-26: v3.5.0 - `flow goal` command for daily win goal tracking with progress bar
- 2025-12-26: v3.5.0 - Goal progress in dash wins section
- 2025-12-26: DOCS - Fixed remaining 12 broken link warnings (now just 1 expected warning)
- 2025-12-26: DOCS - Deployed updated documentation to GitHub Pages
- 2025-12-26: v3.5.0 - Implemented wins display in dash with streak counter
- 2025-12-26: v3.5.0 - Added yay --week with weekly summary and mini activity graph
- 2025-12-26: v3.5.0 PLANNING - Detailed roadmap with dopamine features, daily goals, TUI
- 2025-12-26: DOCS - Fixed 16 broken link warnings (42‚Üí26), added CONTRIBUTING.md to docs
- 2025-12-26: TEST - Created test-ai-features.zsh (19 tests) and test-quick-wins.zsh (13 tests)
- 2025-12-26: CI - Added new tests to GitHub Actions workflow
- 2025-12-26: v3.4.0 - Version bump to 3.4.0
- 2025-12-26: DASH - Added Quick Wins section for tasks < 30min
- 2025-12-26: DASH - Added urgency indicators (üî•‚è∞‚ö°) to Quick Access
- 2025-12-26: AI - Created `flow ai model` command (list, set, show)
- 2025-12-26: AI - Added --model flag for one-off model selection
- 2025-12-26: AI - Created lib/ai-usage.zsh (280+ lines) - usage tracking
- 2025-12-26: AI - Added `flow ai usage` command (stats, suggest, recent)
- 2025-12-26: AI - Created AI recipes system (lib/ai-recipes.zsh, 300+ lines)
- 2025-12-26: AI - 10 built-in recipes (review, commit, debug, refactor, test, etc.)
- 2025-12-26: AI - Created `flow ai chat` interactive conversation mode
- 2025-12-26: AI - Chat with /commands, context toggle, persistent history
- 2025-12-26: CONFIG - Created config system (lib/config.zsh, 350+ lines)
- 2025-12-26: CONFIG - Created flow config command with 11 subcommands
- 2025-12-26: CONFIG - Built-in profiles: minimal, developer, adhd, researcher
- 2025-12-26: CONFIG - Interactive wizard and profile management
- 2025-12-26: PLUGIN - Created plugin system (lib/plugin-loader.zsh, 400+ lines)
- 2025-12-26: PLUGIN - Created flow plugin command with 9 subcommands
- 2025-12-26: PLUGIN - Created hook system with 8 events
- 2025-12-26: PLUGIN - Created example plugin demonstrating capabilities
- 2025-12-26: PLUGIN - Version bump to 3.3.0
- 2025-12-26: AI - Created `flow ai` command (461 lines) - ask AI with context
- 2025-12-26: AI - Created `flow do` command - natural language ‚Üí shell
- 2025-12-26: AI - Enhanced `stuck --ai` and `next --ai` with Claude integration
- 2025-12-26: INSTALL - Created `flow install` command (445 lines) - profiles & categories
- 2025-12-26: UPGRADE - Created `flow upgrade` command (377 lines) - self, tools, plugins
- 2025-12-26: Version bump to 3.2.0 - 1594 new lines of code
- 2025-12-26: DOCTOR - Created `flow doctor` command with --fix and --ai modes
- 2025-12-26: DOCTOR - Created setup/Brewfile with 14 recommended CLI tools
- 2025-12-26: DOCTOR - Fixed 10+ broken documentation links
- 2025-12-26: DOCTOR - Updated COMMAND-QUICK-REFERENCE.md and installation.md
- 2025-12-26: DOCTOR - Deployed updated website to GitHub Pages
- 2025-12-25: Phase 1 COMPLETE - All 5 improvements implemented and tested
- 2025-12-25: Dashboard UX review - designed ADHD-friendly improvements
- 2025-12-25: Fixed external command deps (sed/cut/wc/tr/date ‚Üí ZSH builtins)
- 2025-12-25: v3.0.0 - Clean Architecture achieved
- 2025-12-25: Legacy 140KB functions archived
- 2025-12-25: Symlink-only external integrations

## wins: v4.8.1 SHIPPED (2026-01-05), Homebrew-first docs, Same-day release, 3 PRs merged
## streak: 6
## last_active: 2026-01-05

## üéØ Next Action:
**Focus:** v4.9.0 Phase 1 COMPLETE ‚úÖ ‚Üí Phase 2 Ready

**Phase 1: Quick Wins Sprint** (COMPLETED 2026-01-05, PR #170, #172)
‚úÖ All 5 tasks complete in ~2 hours:
   - ‚úÖ First-run welcome message (commands/work.zsh)
   - ‚úÖ "See also" cross-references (8 dispatcher helps)
   - ‚úÖ Random tips in dashboard (~20% frequency)
   - ‚úÖ Quick reference card `ref` command (NEW)
   - ‚úÖ EXAMPLES sections (r, qu, tm dispatchers)
   **Result:** 9 files changed, 203 insertions, immediate UX improvement

‚úÖ Comprehensive test suite (PR #172):
   - Test framework: tests/test-framework.zsh (336 lines, 14 assertions)
   - Phase 1 tests: tests/test-phase1-features.zsh (413 lines)
   - 31/31 tests passing ‚úì (4 welcome + 5 see also + 4 tips + 5 ref + 4 examples + 9 integration)
   - Full coverage: Unit, Integration, E2E, Regression tests
   **Result:** 2 files added, 754 insertions, complete validation

**Phase 2: Interactive Help Focus** (READY TO START ‚ö°, ~3 hours)
   - Interactive help browser with fzf (90 min)
   - Context-aware help (60 min)
   - Command aliases reference (30 min)
   **Impact:** Much better discoverability, interactive exploration

**Phase 3: v4.9.0 Full Onboarding** (FUTURE, 2-3 days)
   - install.sh script (6 hours)
   - Enhanced `flow doctor --fix` (4 hours)
   - First-run wizard (8 hours)
   - Testing & polish (4 hours)
   **Impact:** Transformative onboarding experience

**Recommended:** Continue with Phase 2 (Interactive Help) or pause and test Phase 1 in production

**Reference:**
- **IMPLEMENTATION-PLAN-v4.9.0.md** - Consolidated roadmap (3 phases, tasks, timelines)
- BRAINSTORM-installation-help-docs-2026-01-05.md - Analysis & insights
- SPEC-v4.9.0-installation-onboarding.md - Full onboarding spec (Phase 3)

## Session Log (continued)
- 2026-01-05: TEST - Phase 1 comprehensive test suite (31 tests, 100% passing) ‚úÖ
- 2026-01-05: TEST - Created test-framework.zsh (336 lines, 14 assertion helpers)
- 2026-01-05: TEST - Created test-phase1-features.zsh (413 lines, 31 test cases)
- 2026-01-05: TEST - Coverage: Unit, Integration, E2E, Regression
- 2026-01-05: PR - #172 (test suite) created, CI running
- 2026-01-05: v4.8.1 RELEASE - Homebrew installation documentation overhaul üöÄ
- 2026-01-05: DOCS - Homebrew now primary installation method across all docs
- 2026-01-05: DOCS - Updated README.md, index.md, installation.md, faq.md
- 2026-01-05: DOCS - Added Homebrew sections: install, update, uninstall, troubleshooting
- 2026-01-05: DOCS - Better onboarding: ~30 seconds vs ~5-10 minutes
- 2026-01-05: PR - #165 (Homebrew docs), #166 (CHANGELOG), #167 (version bump) merged
- 2026-01-05: TAG - v4.8.1 tagged and released on GitHub
- 2026-01-05: HOMEBREW - Formula updated to v4.8.1 (SHA256: eac1196...)
- 2026-01-05: STATUS - Updated .STATUS for v4.8.1 completion
- 2026-01-05: v4.9.0 PHASE 1 COMPLETE - Quick Wins Sprint (PR #170) ‚úÖ
- 2026-01-05: FEAT - First-run welcome message (work command)
- 2026-01-05: FEAT - "See also" cross-references (8 dispatcher helps)
- 2026-01-05: FEAT - Random tips in dashboard (~20% frequency)
- 2026-01-05: FEAT - Quick reference card `ref` command (NEW)
- 2026-01-05: FEAT - EXAMPLES sections (r, qu, tm dispatchers)
- 2026-01-05: PR - #170 merged (9 files, 203 insertions, ~2 hours)
- 2026-01-05: PLANNING - Created v4.9.0 implementation plan (3 phases)
- 2026-01-05: DOCS - BRAINSTORM-installation-help-docs-2026-01-05.md
- 2026-01-05: DOCS - IMPLEMENTATION-PLAN-v4.9.0.md
- 2026-01-05: DOCS - SPEC-v4.9.0-installation-onboarding.md
- 2026-01-05: PR - #169 (planning docs) merged
- 2026-01-02: v4.8.0 RELEASE - CC Unified Grammar shipped! üöÄ
- 2026-01-02: FEAT - Both command orders work (cc opus pick AND cc pick opus)
- 2026-01-02: FEAT - Shell completions (_cc) with context-aware suggestions (134 lines)
- 2026-01-02: FIX - cc haiku eval bug fixed
- 2026-01-02: TEST - 30 unified grammar tests + 24 cc-dispatcher tests (100% pass)
- 2026-01-02: DOCS - Rewrote START-HERE guide (complete overhaul)
- 2026-01-02: DOCS - Added V4.9-ROADMAP.md (5 enhancement options, 616 lines)
- 2026-01-02: DOCS - Fixed all broken documentation links (13 ‚Üí 0 warnings)
- 2026-01-02: DOCS - Deployed clean docs to GitHub Pages (zero warnings)
- 2026-01-02: SPEC - Archived SPEC-cc-unified-grammar-2026-01-02.md (status: Done)
- 2026-01-02: TAG - v4.8.0 tagged and released on GitHub
- 2026-01-02: HOMEBREW - Formula updated via automated PR #9
- 2026-01-02: PRs - #162 (feature), #163 (docs), #164 (final fixes) merged
- 2025-12-31: v4.7.0 RELEASE - iCloud remote sync (`flow sync remote init/disable/status`)
- 2025-12-31: DOCS - Deployed v4.7.0 docs to GitHub Pages
- 2025-12-31: HOMEBREW - Updated formula to v4.7.0
- 2025-12-31: v4.6.5 RELEASE - Worktree frecency scoring, CLAUDE.md updates
- 2025-12-31: v4.6.4 RELEASE - Frecency decay scoring, session indicators on projects
- 2025-12-31: v4.6.3 RELEASE - Frecency sorting, --recent flag, CI apt caching (~17s)
- 2025-12-31: v4.6.2 RELEASE - CI smoke tests (~30s), tests/run-all.sh
- 2025-12-31: v4.6.1 RELEASE - Pick shows worktrees, CI streamlined (4‚Üí1 jobs)
- 2025-12-31: v4.6.0 RELEASE - Worktree-aware pick, session indicators, pick wt
- 2025-12-31: CI - Optimized from 5+ minutes to 14 seconds (apt caching + smoke tests)
- 2025-12-31: FEAT - Frecency decay algorithm (time-based priority scoring)
- 2025-12-31: FEAT - Session indicators (üü¢/üü°) on regular projects
- 2025-12-31: FEAT - `pick --recent` flag for Claude session filtering
- 2025-12-31: v4.5.5 RELEASE - Fixed FLOW_VERSION sync (was 3.6.0 ‚Üí 4.5.5)
- 2025-12-31: FIX - Updated release.sh to include flow.plugin.zsh version
- 2025-12-31: CI - Fixed docs workflow (added mkdocs-exclude plugin)
- 2025-12-31: HOMEBREW - Updated formula to v4.5.5
- 2025-12-31: PR - awesome-zsh-plugins #2058 submitted (all checks pass)
- 2025-12-31: DOCS - Updated CHANGELOG.md, CLAUDE.md, .STATUS for v4.5.5
- 2025-12-30: PLAN - Created INSTALL-IMPROVEMENTS.md (aiterm-style installation)
- 2025-12-30: DOCS - Updated CLAUDE.md with v4.5.0 roadmap
- 2025-12-30: DOCS - Archived all 7 ADR files (obsolete Node.js architecture) (PR #119)
- 2025-12-30: DOCS - Removed Decisions section from mkdocs navigation
- 2025-12-30: DOCS - Archived MIGRATION-v1-to-v2.md (obsolete - v4.4.x) (PR #117)
- 2025-12-30: DOCS - Rewrote PR-WORKFLOW-GUIDE.md for pure ZSH plugin architecture
- 2025-12-30: DOCS - Replaced all npm/Node.js references with ZSH patterns
- 2025-12-30: DOCS - Fixed broken CLAUDE.md link in ADRs README
- 2025-12-30: DOCS - Archived docs/architecture/ and docs/api/ (PR #115)
- 2025-12-30: DOCS - Moved 13 Node.js architecture files to .archive/
- 2025-12-30: DOCS - Rewrote 00-welcome.md for v4.4.x ZSH plugin
- 2025-12-30: DOCS - Fixed 12 files with broken architecture/API links
- 2025-12-30: DOCS - Fixed stale Node.js references across docs (PR #113)
- 2025-12-30: DOCS - Rewrote CONTRIBUTING.md for pure ZSH development
- 2025-12-30: DOCS - Added deprecation notice to ADRs (archived Node.js CLI)
- 2025-12-30: DOCS - Updated troubleshooting.md (removed npm/node dependencies)
- 2025-12-30: DOCS - Rewrote TESTING.md for ZSH test suite (PR #111)
- 2025-12-30: DOCS - Removed 736 lines of outdated Node.js/Jest docs
- 2025-12-30: DOCS - Added ZSH test framework, CI integration docs
- 2025-12-30: v4.4.3 RELEASE - CI automation improvements (PR #109)
- 2025-12-30: TAG - v4.4.3 tagged and pushed
- 2025-12-30: CI - Added all 8 dispatcher tests to CI workflow (PR #107)
- 2025-12-30: CI - Split tm tests on macOS for continue-on-error handling
- 2025-12-30: CI - TM tests gracefully skip when aiterm not installed
- 2025-12-30: v4.4.2 RELEASE - Complete dispatcher test coverage
- 2025-12-30: TEST - Created 85 new dispatcher tests (r, qu, mcp, tm, obs)
- 2025-12-30: DOCS - Updated CHANGELOG.md for v4.4.2
- 2025-12-30: TAG - v4.4.2 tagged and pushed
- 2025-12-30: DOCS - Deployed updated docs to GitHub Pages
- 2025-12-29: v4.2.0 RELEASE - Worktree + Claude Integration
- 2025-12-29: FEAT - Added `cc wt <branch>` for Claude in worktrees
- 2025-12-29: FEAT - Added `cc wt pick` (fzf picker), mode chaining (yolo/plan/opus/haiku)
- 2025-12-29: FEAT - Added `_wt_get_path()` helper to wt-dispatcher
- 2025-12-29: FEAT - Added aliases: ccw, ccwy, ccwp
- 2025-12-29: TEST - Created tests/test-cc-wt.zsh (20 tests)
- 2025-12-29: FIX - Renamed `local path` ‚Üí `local result_path` (zsh path array conflict)
- 2025-12-29: DOCS - Updated CC-DISPATCHER-REFERENCE.md, DISPATCHER-REFERENCE.md
- 2025-12-29: PLAN - Added v4.2.0 roadmap (hotfix, branch cleanup, worktree+claude)
- 2025-12-29: DOCS - Site updated for v4.1.0 (PR #66), deployed to GitHub Pages
- 2025-12-29: v4.1.0 RELEASE - Git Feature Branch Workflow
- 2025-12-29: FEAT - Added `g feature` commands (start, sync, list, finish)
- 2025-12-29: FEAT - Added `g promote` (PR: feature ‚Üí dev) and `g release` (PR: dev ‚Üí main)
- 2025-12-29: FEAT - Added workflow guard for protected branches (main, dev)
- 2025-12-29: FEAT - Added `wt` dispatcher for git worktree management
- 2025-12-29: TEST - Created 33 new tests (16 g feature + 17 wt dispatcher)
- 2025-12-29: DOCS - Updated DISPATCHER-REFERENCE.md with new commands
- 2025-12-29: INFRA - Created dev branch, established feature ‚Üí dev ‚Üí main workflow
- 2025-12-29: PRs - #62 (feature ‚Üí dev), #63 (dev ‚Üí main), #64 (version bump)
- 2025-12-27: DOCS - ADHD-friendly redesign of README + front page (PR #52)
- 2025-12-27: DOCS - Added collapsible demo sections (PRs #53, #54)
- 2025-12-27: DOCS - Added prettierignore for docs markdown (PR #55)
- 2025-12-27: DOCS - Fixed broken relative links (PR #56)
- 2025-12-27: DOCS - Archived 22 files with broken links (PR #57)
- 2025-12-27: CI - Added lychee link check to CI (PR #58)
- 2025-12-27: DOCS - Created animated terminal demo GIF with VHS (PR #59)
- 2025-12-27: CI - Made link check blocking (PR #60)
- 2025-12-29: v4.2.0 RELEASE - Deployed to GitHub Pages (PR #79 merged)
- 2025-12-29: TAG - v4.2.0 tagged and pushed to origin
- 2025-12-29: DOCS - Full documentation validation and sync
