# flow-cli - Pure ZSH Workflow Plugin
# ADHD-optimized workflow management for developers

## Project: flow-cli
## Type: zsh-plugin
## Status: active
## Phase: Production Ready - Post v5.3.0 Release
## Priority: 1
## Progress: 95

## Focus: Teaching Workflow v2.0 Merged to dev üéì

## üöß In Progress (2026-01-12 - Current):
- **No active development**
  - Ready for production testing and v5.4.0 release planning

## ‚úÖ Just Completed (2026-01-12 - Latest):
- **teach-init Migration Automation - Phase 1+2+3** ‚úÖ PR #220 MERGED TO DEV
  - **PR:** #220 - https://github.com/Data-Wise/flow-cli/pull/220
  - **Merged:** 2026-01-12T07:50:46Z to dev branch
  - **Squash Commit:** 261c4b3
  - **Changes:** +2,509 lines, -18 lines (4 files)
  - **Implementation:** 2026-01-12 (~4 hour session)
  - **Spec:** docs/specs/SPEC-teach-init-migration-2026-01-12.md (711 lines)
  - **Brainstorm:** BRAINSTORM-teach-init-migration-2026-01-12.md (905 lines)
  - **Validation:** VALIDATION-SUMMARY.md (380 lines)

  **Phase 1 - Foundation (‚úÖ Complete):**
  - **Commit:** a497f97 "feat(teach-init): add Phase 1 migration functions"
  - **Functions Added:** 5 core functions (537 lines)
    - `_teach_detect_project_type()`: Auto-detect Quarto/MkDocs/generic
    - `_teach_validate_quarto_project()`: Validate required files
    - `_teach_handle_renv()`: Interactive renv/ exclusion
    - `_teach_rollback_migration()`: Git tag-based error recovery
    - `_teach_show_migration_plan()`: Dry-run preview
  - **Flag Support:** `teach-init --dry-run <course-name>`
  - **Tests:** 13/13 passing (tests/test-teach-init-phase1.zsh)

  **Phase 2 - Migration Logic (‚úÖ Complete):**
  - **Commit:** 40b6f4c "feat(teach-init): add Phase 2 Quarto migration workflow"
  - **Functions Added:** 8 new functions (431 lines)
    - `_teach_migrate_quarto_project()`: Quarto-specific migration
    - `_teach_quarto_inplace_conversion()`: Strategy 1 - Convert existing
    - `_teach_quarto_parallel_branches()`: Strategy 2 - Parallel branches
    - `_teach_quarto_fresh_start()`: Strategy 3 - Fresh start (orphan)
    - `_teach_migrate_generic_repo()`: Generic fallback
    - `_teach_offer_github_push()`: Smart remote detection
    - `_teach_generate_migration_docs()`: Auto-documentation
  - **Total Lines:** 1,000 lines in commands/teach-init.zsh (after Phase 3)
  - **Manual Tests:** 18 tests documented (tests/MANUAL-TESTING-PHASE2.md, 1,101 lines)

  **Phase 3 - Polish (‚úÖ Complete):**
  - **Commit:** e7cee68 "fix(teach-init): add proper error handling to migration strategies"
  - **Bug Fixed:** Rollback not triggered on template installation failure
  - **Root Cause:** Shell error propagation in compound command blocks
  - **Solution:** Subshell with explicit `|| exit 1` after each command
  - **Changes:** +76, -35 lines in commands/teach-init.zsh
  - **Testing:** Rollback now triggers correctly, Phase 1 tests passing (no regression)

  **Validation Testing Results (2026-01-12):**
  - ‚úÖ **Dry-run on STAT 545:** Detected Quarto, showed full plan, no changes
  - ‚úÖ **Strategy 1 Migration:** Branches created (draft/production), files installed, tag created
  - ‚úÖ **Config Generation:** Valid YAML with semester dates, course info
  - ‚úÖ **Documentation:** MIGRATION-COMPLETE.md generated with full details
  - ‚úÖ **Rollback:** Triggers correctly on template failure (Phase 3 fix)
  - ‚úÖ **Error Messages:** Clear and actionable
  - ‚úÖ **Repository State:** Clean after rollback

  **Key Features Implemented:**
  - 3 migration strategies (convert, parallel, fresh start)
  - Auto-detection: Quarto vs MkDocs vs generic
  - Validation: Strict checks for required files
  - renv handling: Interactive prompt with skip if already excluded
  - GitHub integration: Smart remote URL handling
  - Auto-documentation: MIGRATION-COMPLETE.md with workflow guide
  - Dry-run mode: Preview without changes
  - Comprehensive error handling: Automatic rollback on failure

  **Commits (5 total):**
  - a497f97: Phase 1 foundation (5 functions, 13 tests)
  - 40b6f4c: Phase 2 migration logic (8 functions, 3 strategies)
  - 30ce4c7: Phase 2 manual testing guide
  - e7cee68: Phase 3 bug fix (error handling)
  - b536372: Updated validation summary

  **Session Time:** ~4 hours (brainstorm ‚Üí Phase 1 ‚Üí Phase 2 ‚Üí validation ‚Üí Phase 3 fix)
  **Target:** v5.4.0 release
  **Related:** MIGRATION-GUIDE-teaching-workflow.md (previously used for STAT 545)

- **Teaching Workflow v2.0 - PR #217 Merged to dev** üéì MERGED & TESTED
  - **PR:** #217 - Teaching Workflow v2.0 (Increment 1 + 2)
  - **Merged:** 2026-01-12T06:07:13Z to dev branch
  - **Changes:** +6,268 lines (23 files, 10 commits)
  - **Status:** All 58 tests passing (100% coverage), ready for production testing

  **Code Review Process:**
  - Manual code review identified critical config template bug
  - Automated tests: 41/41 passing (didn't catch integration issue)
  - Manual integration tests: BLOCKED by invalid YAML config
  - Root cause: Increment 2 placeholders not filled ({{START_DATE}}, {{END_DATE}}, {{BREAKS_CONFIG}})
  - Impact: Teaching detection, validation, branch safety ALL broken

  **Bug Fix (commit 372bcca):**
  - Identified version mismatch (template v2.0 but incomplete Increment 2 code)
  - Note: Increment 2 was later fully implemented and reverted fix
  - Final state: Full Increment 1 + 2 implementation with all placeholders filled
  - Verified: Config generates valid YAML, all features working

  **Manual Testing Results (Post-Fix):**
  - ‚úÖ teach-init: Successfully creates files and branches
  - ‚úÖ Project detection: Teaching projects detected correctly
  - ‚úÖ Config validation: YAML parses correctly
  - ‚úÖ Branch safety: Production warnings trigger correctly
  - ‚úÖ Draft branch: No warnings (as expected)
  - ‚úÖ Config values: All readable by deployment scripts
  - ‚úÖ Script permissions: All scripts executable

  **Features Merged (Increment 1 + 2):**

  **Increment 1 - Core Deployment:**
  - teach-init command: Course scaffolding (292 lines)
  - Branch safety warnings: Prevent accidental production edits
  - Quick deployment: Sub-2-minute automation script
  - Template system: 5 automation templates
  - Enhanced work command: Teaching-aware sessions
  - Project detection: Config-based with validation

  **Increment 2 - Course Context:**
  - Week calculation: Automatic from semester start date
  - Break detection: Label break weeks
  - Semester management: Start/end date handling
  - Context display: Enhanced teaching session info
  - Teaching utilities: `lib/teaching-utils.zsh` (172 lines)

  **Test Coverage (58 total tests):**
  - Basic suite: 9/9 passing ‚úì
  - Comprehensive: 32/32 passing ‚úì
  - Increment 2: 17/17 passing ‚úì
  - Coverage: Project detection, validation, templates, edge cases, regressions

  **Documentation (3,225 lines):**
  - User guide: `docs/guides/TEACHING-WORKFLOW.md` (899 lines)
  - Quick reference: `docs/reference/REFCARD-TEACHING.md` (397 lines)
  - Testing guide: `TESTING-INSTRUCTIONS.md` (929 lines)
  - VHS demo: `docs/demos/teaching-workflow.tape` (325 lines)
  - Test coverage: `tests/TEACHING-WORKFLOW-TEST-COVERAGE.md` (352 lines)
  - Increment 2 plan: `docs/specs/PLAN-teaching-workflow-increment-2.md` (892 lines)

  **New Files Created (23 files):**
  - Commands: `commands/teach-init.zsh` (292 lines)
  - Utilities: `lib/teaching-utils.zsh` (172 lines)
  - Templates: 5 files (deploy, archive, exam conversion, workflow, config)
  - Tests: 3 test suites (695 + 240 + 452 lines)
  - Documentation: 6 files

  **Integration Points:**
  - Enhanced work command: 135 new lines for teaching sessions
  - Project detector: 45 new lines for teaching detection
  - Plugin loader: Added teaching-utils.zsh

  **Architecture Decisions:**
  - Two-branch workflow: draft (editing) + production (live site)
  - Config-based detection: .flow/teach-config.yml for teaching projects
  - Template-driven setup: Consistent course structure
  - YAML validation: Required fields enforced
  - Graceful degradation: Works without yq (limited features)

  **Success Metrics:**
  - Deployment time: < 2 min (via quick-deploy.sh) ‚úì
  - Branch safety: 100% (production warning always shown) ‚úì
  - Config validation: 100% (malformed configs rejected) ‚úì
  - Test coverage: 100% (58/58 tests passing) ‚úì
  - Week calculation: Accurate with break detection ‚úì

  **Next Steps:**
  1. Test on real course (STAT 545 or causal-inference)
  2. Gather feedback from actual teaching workflow
  3. Consider Increment 3: Exam workflow (optional)
  4. Merge dev ‚Üí main when production-validated
  5. Release as part of v5.4.0 or standalone v6.0.0

  **Session Time:** ~4 hours (review ‚Üí testing ‚Üí bug fix ‚Üí manual tests ‚Üí merge)
  **Total Effort:** ~20 hours (planning ‚Üí implementation ‚Üí testing ‚Üí docs ‚Üí review ‚Üí merge)
  **Related:** SPEC-teaching-workflow-v2.md, BRAINSTORM-scholar-teaching-2026-01-11.md

## ‚úÖ Just Completed (2026-01-12):
- **v5.3.0 Release - Project Cache & Performance** üöÄ SHIPPED TO PRODUCTION
  - **PRs:** #215 (release merge), #216 (version bump), #213 (changelog) - ALL MERGED
  - **Tag:** v5.3.0 created and pushed
  - **GitHub Release:** https://github.com/Data-Wise/flow-cli/releases/tag/v5.3.0
  - **Docs Deployed:** https://Data-Wise.github.io/flow-cli/

  **Features Shipped:**
  - üöÄ **Project Cache:** 40x performance improvement (200ms ‚Üí <10ms)
  - üß™ **Test Infrastructure:** 98 tests (100% passing)
  - üìö **Documentation:** 1,300+ lines (guides + quick refs)
  - ‚ú® **Site Updates:** Performance highlights in 3 locations

  **Implementation:**
  - **Files Changed:** 24 files (+4,247, -4 lines)
  - **Cache Module:** `lib/project-cache.zsh` (210 lines)
  - **Tests:** 9 test files (2,500+ lines)
  - **Docs:** 4 new guide/reference files

  **Test Coverage:**
  - Cache unit tests: 42 tests (3 suites)
  - Pick command tests: 39 tests
  - Integration tests: 17 tests
  - All tests: 100% passing

  **Bug Fixes:**
  - Cache filtering architecture fix (cache-all, filter-after)
  - 3 failing tests ‚Üí all 98 passing

  **Release Process:**
  - Code review & PR merge (#214, #215)
  - Version bump script (5.2.0 ‚Üí 5.3.0)
  - Documentation site deployment
  - GitHub release with comprehensive notes
  - All automation successful

  **Performance:**
  - pick command: <10ms (was ~200ms)
  - Cached with 5-minute TTL
  - Zero configuration required
  - XDG-compliant cache storage

  **Documentation Updates:**
  - Cache guide (439 lines)
  - Cache quick reference (84 lines)
  - Testing guide (710 lines)
  - Site performance mentions

  **Session Time:** ~5 hours (post-merge ‚Üí release ‚Üí deployment)
  **Total Effort:** ~15 hours (planning ‚Üí implementation ‚Üí testing ‚Üí docs ‚Üí release)

## ‚úÖ Just Completed (2026-01-11):
- **Code Review & Enhancement Planning** ‚úÖ COMPLETE
  - **Code Review:** Project detection & worktree picker systems
  - **Files Reviewed:** `lib/project-detector.zsh` (131 lines), `commands/pick.zsh` (974 lines)
  - **Overall Rating:** 8.5/10
  - **Spec Created:** `docs/specs/SPEC-project-cache-auto-discovery.md` (450 lines)

  **Findings:**
  - ‚úÖ Excellent frecency sorting and session awareness
  - ‚úÖ Smart direct jump intelligence
  - ‚úÖ Well-designed worktree integration
  - ‚ùå No caching (performance bottleneck at scale)
  - ‚ùå Hardcoded categories (not extensible)
  - ‚ö†Ô∏è Duplicate type detection logic

  **3-Phase Enhancement Plan:**
  - Phase 1 (v5.6.0): Caching layer - 40x performance gain (<10ms pick)
  - Phase 2 (v5.7.0): Auto-discovery - zero config for categories
  - Phase 3 (v5.8.0): Unified type detection - single source of truth

  **Total Effort:** ~14 hours across 3 releases
  **Impact:** High (performance + extensibility + maintainability)
  **Risk:** Low (opt-in rollout, extensive testing)

  **Session Time:** ~1 hour (code review + spec writing + planning docs update)

## ‚úÖ Just Completed (2026-01-11 - Latest):
- **Scholar Plugin Teaching Features - Deep Brainstorm & Spec** ‚úÖ COMPLETE
  - **Session Type:** Deep feature brainstorm (8 expert questions) + automatic spec capture
  - **Files:** BRAINSTORM-scholar-teaching-2026-01-11.md (450+ lines), SPEC-scholar-teaching-2026-01-11.md (850+ lines)
  - **Status:** Planning complete, ready for implementation in scholar repo
  - **Commit:** 2ec3b41 (pushed to origin/dev)

  **Context:**
  - Parallel development with flow-cli teaching-workflow
  - Scholar plugin currently has 14 research commands, 17 research skills
  - Teaching keywords in package.json but ZERO teaching commands implemented
  - Need to expand scholar to support teaching workflows

  **8 Expert Questions Answered:**
  1. **Primary purpose:** Parallel development with flow-cli teaching-workflow
  2. **Teaching priorities:** ALL 4 (exam, quiz, lecture, assignment)
  3. **Integration model:** flow-cli wrapper (scholar called by flow-cli)
  4. **Output formats:** ALL 4 (markdown, quarto, LaTeX, JSON/YAML)
  5. **Generation method:** Hybrid (AI + templates)
  6. **Context storage:** Read from .flow/teach-config.yml
  7. **Post-generation workflow:** Edit, commit to git, deploy to website
  8. **Quality validation:** Critical - must validate before save

  **Critical Architecture Decisions:**
  - **Namespace:** `/teaching:*` parallel to `/research:*` (not merged, not separate plugin)
  - **Implementation:** Node.js (match examark tool, was shell for research)
  - **Integration:** flow-cli ‚Üí `/teaching:exam` ‚Üí scholar generates ‚Üí flow-cli processes
  - **Commands:** 5 total (exam, quiz, lecture, assignment, syllabus)
  - **Validation:** JSON schema + format-specific (LaTeX, markdown) validation

  **5 Teaching Commands to Implement:**
  - `/teaching:exam` - Generate exams with answer keys
  - `/teaching:quiz` - Generate shorter quizzes
  - `/teaching:lecture` - Generate lecture outlines
  - `/teaching:assignment` - Generate problem sets
  - `/teaching:syllabus` - Generate course syllabi

  **Output Formats (All 4 Required):**
  - Markdown (.md) - Version control friendly, works with examark
  - Quarto (.qmd) - Course websites with executable code
  - LaTeX (.tex) - High-quality PDF exams
  - JSON/YAML - Programmatic/automation use

  **Quality Validation Requirements:**
  - Schema compliance (JSON schema validation)
  - Answer key completeness (all questions have answers)
  - LaTeX syntax validation (balanced delimiters)
  - Format-specific checks (markdown, quarto, LaTeX)
  - `--no-validate` flag for experienced users

  **Integration with flow-cli:**
  ```bash
  flow-cli (ZSH)
    ‚îî‚îÄ‚îÄ teach-exam command
        ‚îî‚îÄ‚îÄ calls scholar /teaching:exam
            ‚îî‚îÄ‚îÄ scholar generates content
                ‚îî‚îÄ‚îÄ returns to flow-cli
                    ‚îî‚îÄ‚îÄ flow-cli handles workflow (edit, convert, deploy)
  ```

  **Course Configuration (.flow/teach-config.yml extension):**
  ```yaml
  scholar:
    course_info:
      level: "undergraduate"  # or "graduate"
      field: "statistics"
      difficulty: "intermediate"
    defaults:
      exam_format: "markdown"
      lecture_format: "quarto"
    style:
      tone: "formal"  # or "conversational"
      notation: "statistical"
  ```

  **Implementation Timeline (5 Weeks, 28-38 hours):**
  - Week 1 (6-8h): `/teaching:exam` pilot (markdown only)
  - Week 2 (6-8h): All formats + comprehensive validation
  - Week 3 (8-10h): `/teaching:quiz`, `/teaching:lecture` + docs
  - Week 4 (4-6h): Teaching skills (auto-activating)
  - Week 5 (4-6h): `/teaching:assignment`, `/teaching:syllabus`, polish

  **Success Metrics:**
  - Generation time: < 30s for 10-question exam
  - Validation accuracy: 100% catch rate for errors
  - Quality score: > 8/10 user rating
  - Edit time: < 10 min from generation to finalized material
  - Integration: 100% success flow-cli ‚Üí scholar ‚Üí examark pipeline

  **Dependencies:**
  - Required: Node.js >= 18.0.0, Claude API, js-yaml, ajv (JSON schema)
  - Optional: examark (QTI conversion), quarto (rendering), texlive (PDF)
  - Dev: jest, eslint, prettier

  **Next Steps:**
  - Create feature branch in scholar repo (not flow-cli!)
  - Start Week 1: `/teaching:exam` pilot implementation
  - Test integration with flow-cli teaching-workflow

  **Related Specs:**
  - SPEC-teaching-workflow-v2.md (flow-cli side, deployment-focused)
  - Both specs support parallel development model

  **Session Time:** ~3 hours (8 questions + brainstorm synthesis + comprehensive spec)

## ‚úÖ Just Completed (2026-01-11 - Earlier):
- **Teaching Workflow v2.0 - Deep Brainstorm & Spec Revision** ‚úÖ COMPLETE
  - **Session Type:** Deep brainstorm (8 expert questions)
  - **Specs:** SPEC-teaching-workflow.md (v1.0, kept), SPEC-teaching-workflow-v2.md (v2.0, 1,460 lines)
  - **Status:** Planning complete, ready for implementation

  **Major Discoveries (8 Expert Questions):**
  - ‚ùå v1.0 Focus: Quiz/exam automation (50% of spec)
  - ‚úÖ v2.0 Focus: Fast deployment (80% of effort)
  - Current pain: 5-15 min manual git workflow
  - Target: < 2 min typo-to-live deployment
  - Assessment frequency: 2-3 exams/semester (not weekly quizzes)
  - Canvas API: Not needed (manual upload acceptable)
  - Scholar skills: Build alongside (optional Phase 1.5)
  - Scope: STAT 545 only in Phase 1

  **Critical Pivot:**
  - From: Assessment-first (quiz workflow focus)
  - To: Deployment-first (branch safety + fast deploy)
  - Assessment tools moved to optional Increment 3

  **Incremental Shipping Strategy (v2.0):**
  - **Increment 1 (4-6h):** Core Deployment (MVP)
    - Branch safety guard in `work` command
    - `scripts/quick-deploy.sh` with time tracking
    - Teaching project detection + validation
    - Basic `.flow/teach-config.yml`
    - Success: Typo deployment < 2 min

  - **Increment 2 (4-6h):** Course Context
    - `work stat-545` shows current week, semester
    - Course shortcuts loaded per-session
    - Semester date calculation with breaks
    - Recent activity display
    - Success: Terminal shows course context

  - **Increment 3 (8-10h):** Exam Workflow - OPTIONAL
    - `teach-exam` command for guided creation
    - examark integration (MD ‚Üí Canvas QTI)
    - Scholar skill integration (if ready)
    - Success: E2E exam in < 30 min

  **Total Effort:** 16-22 hours (was 22h monolithic)
  **Risk Level:** Low (incremental shipping, proven patterns)

  **Updated Success Criteria (All 4 Selected):**
  - ‚ö° Typo fix deploys in < 2 min (Priority 1)
  - üõ°Ô∏è Branch safety prevents production edits (Priority 1)
  - üìö Course-aware terminal context (Priority 2)
  - üìù One-command exam generation + conversion (Priority 3, optional)

  **Implementation Files:**
  - New: `commands/teach-init.zsh` (~300 lines) - Scaffolding
  - New: `commands/teach-exam.zsh` (~150 lines) - Exam workflow (Increment 3)
  - New: `lib/templates/teaching/quick-deploy.sh` (~120 lines)
  - New: `lib/templates/teaching/semester-archive.sh` (~50 lines)
  - New: `lib/templates/teaching/exam-to-qti.sh` (~40 lines)
  - New: `lib/templates/teaching/deploy.yml.template` (~50 lines)
  - Modified: `commands/work.zsh` (+130 lines) - Teaching session + context
  - Modified: `lib/project-detector.zsh` (+40 lines) - Enhanced detection

  **Dependencies:**
  - Required: yq (‚úÖ installed), git, quarto
  - Optional: examark (‚ùå not installed, npm install -g examark)
  - Optional: scholar skills (build alongside)

  **Testing Strategy:**
  - Increment 1: 5 unit tests, E2E deployment test
  - Increment 2: Week calculation, context display tests
  - Increment 3: examark conversion, E2E exam workflow

  **Next Steps:**
  - Create feature branch worktree
  - Start NEW session for Increment 1 implementation
  - Ship incrementally (test each increment before next)

  **Session Time:** ~2 hours (deep questions + spec revision + worktree prep)

## ‚úÖ Just Completed (2026-01-11 - Earlier):
- **Documentation Enhancement (Plan B)** ‚úÖ SHIPPED TO PRODUCTION
  - **PRs:** #209 (docs ‚Üí dev), #210 (dev ‚Üí main) - MERGED & DEPLOYED
  - **Implementation:** 6 files, 674 lines added (2.5 hours)
  - **Live:** https://data-wise.github.io/flow-cli/

  **New Pages (3):**
  - `docs/getting-started/im-stuck.md` (280 lines) - Emergency troubleshooting
  - `docs/getting-started/choose-your-path.md` (140 lines) - Learning path selector
  - `docs/quick-reference-card.md` (130 lines) - Printable reference

  **Enhanced Pages (3):**
  - `docs/index.md` - TL;DR callout + path selection grid
  - `docs/stylesheets/extra.css` - 160 lines ADHD-friendly CSS
  - `mkdocs.yml` - Navigation restructure with emoji indicators

  **Features:**
  - Progressive disclosure design (quick wins first)
  - Visual hierarchy with color-coded callouts
  - Print-friendly reference card (PDF export)
  - Dark mode support for all new styles
  - Mobile responsive grid layout
  - 6 learning paths for different user types

  **Impact:**
  - Reduced support burden (self-service troubleshooting)
  - Improved onboarding (role-based paths)
  - Quick command lookup (printable card)
  - Better visual hierarchy (reduced cognitive load)

  **Workflow:**
  - Followed feature ‚Üí dev ‚Üí main protocol
  - Testing: mkdocs build (no errors)
  - Deployment: GitHub Pages (auto-deployed)
  - Verified: All pages live and functional

  **Session Time:** ~3 hours (planning ‚Üí spec ‚Üí implementation ‚Üí deploy)

## ‚úÖ Just Completed (2026-01-11 - Earlier):
- **Teaching Workflow Planning & Workflow Protocol** ‚úÖ COMPLETE
  - **Specs:** SPEC-teaching-workflow.md (911 lines, approved)
  - **Documentation:** 3 workflow documents (821 lines total)

  **Branch Workflow Established:**
  - Created `dev` branch (three-tier: feature/* ‚Üí dev ‚Üí main)
  - `BRANCH-WORKFLOW.md` (323 lines) - Complete workflow guide
  - Updated `PR-WORKFLOW-GUIDE.md` with dev branch strategy
  - Workflow guard blocks direct pushes to main/dev

  **Workflow Protocol:**
  - `.claude/WORKFLOW-PROTOCOL.md` (197 lines) - 4-phase protocol
  - Phase 1: Planning on dev branch
  - Phase 2: Commit plan before worktree
  - Phase 3: Create worktree from dev
  - Phase 4: NEW session for implementation (critical!)

  **Teaching Workflow Spec:**
  - Universal teaching system (STAT 545 first)
  - Teaching-aware `work` command
  - Per-course `.flow/teach-config.yml` configuration
  - 3-tier automation (scripts + flow-cli + GitHub Actions)
  - Scholar integration (direct calls to /teaching:*)
  - Nexus integration (parallel tracking)
  - 7 new template files planned
  - 3 files to modify in flow-cli
  - Estimated: 22 hours over 3 weeks

  **Worktree Created:**
  - `~/.git-worktrees/flow-cli-teaching-workflow`
  - Branch: `feature/teaching-workflow` (from dev)
  - Status: Ready for NEW session per protocol

  **Maintenance:**
  - Branch cleanup: 9 orphaned local, 4 remote (11 days old)
  - v5.3.0 roadmap updated (3 new features)
  - PRs: #207 (roadmap), #208 (branch workflow) - merged

  **Session Time:** ~2.5 hours (planning, docs, setup)

## ‚úÖ Just Completed (2026-01-11 - Earlier):
- **Secret Management v2.0 Integration Features** ‚úÖ COMPLETE
  - **PR:** #202 (feature/secret-management-v2-sync ‚Üí main)
  - **Implementation:** ~608 lines of new functionality

  **GitHub Secrets Sync:**
  - `dot secrets sync github` - Sync DOT-managed secrets to GitHub repo
  - Interactive selection of which secrets to sync
  - Uses `gh secret set` for secure sync
  - Shows confirmation with secret names (not values)

  **Direnv Integration:**
  - `dot env init` - Generate .envrc for direnv
  - Interactive selection of secrets to include
  - Auto-adds .envrc to .gitignore if not present
  - Converts secret names to SCREAMING_SNAKE_CASE

  **Additional:**
  - INTEGRATION section added to `dot help`
  - `_dot_secrets_help()` and `_dot_env_help()` functions
  - Test Suite 16: 13 new integration tests
  - Total: 134 unit tests (100% passing)

  **Version:** DOT Dispatcher 2.2.0

## ‚úÖ Just Completed (2026-01-10):
- **Secret Management v2.0 Phase 3** ‚úÖ COMPLETE
  - **PR:** #200 (feature/secret-management-v2-phase3 ‚Üí main)
  - **Implementation:** ~390 lines of new functionality

  **Token Rotation:**
  - `dot token <name> --refresh` - Rotate existing tokens
  - Automatic type detection from metadata (github/npm/pypi)
  - Opens browser to create new token based on type
  - Validates new token against provider API
  - Updates stored token with new value + metadata
  - Records rotation history (`rotated_from` field)
  - Reminds user to revoke old token

  **Syntax Options:**
  - `dot token github-token --refresh`
  - `dot token github-token -r`
  - `dot token refresh github-token`

  **Features:**
  - Parses --refresh/-r/refresh flags anywhere in args
  - Requires DOT metadata (dot_version) in token
  - Validates token format before storing
  - Updates expiration date on rotation
  - Shows reminder to revoke old token

  **Tests:**
  - Test Suite 15: 10 new tests for Phase 3 features
  - Total: 121 unit tests (100% passing)

  **Version:** DOT Dispatcher 2.1.0

- **Secret Management v2.0 Phase 2** ‚úÖ COMPLETE
  - **Branch:** `feature/secret-management-v2-phase2`
  - **Implementation:** ~765 lines of new functionality

  **Token Wizards:**
  - `dot token github` - GitHub PAT creation wizard
    - Classic vs Fine-grained token selection
    - Recommended scopes based on project type
    - Opens browser to token creation page
    - Token format validation (ghp_ / github_pat_)
    - API validation against GitHub
  - `dot token npm` - NPM token wizard
    - Automation/Read-only/Granular token types
    - Token format validation (npm_)
    - API validation
  - `dot token pypi` - PyPI token wizard
    - Account-wide vs Project-scoped tokens
    - Token format validation (pypi-)
    - Trusted Publishing recommendation

  **Secrets Dashboard:**
  - `dot secrets` - Overview of all secrets
    - Token type, status, expiration display
    - Color-coded: ‚úì Valid, ‚ö† Expiring, ‚ùå Expired
    - Vault status with time remaining
    - Actionable tips for expiring tokens

  **Features:**
  - Guided wizard flow with type selection
  - Browser opening via AppleScript (reliable)
  - Hidden input for token entry
  - Token validation against provider APIs
  - JSON metadata storage in Bitwarden
  - Expiration tracking with reminders
  - Usage examples shown after creation

  **Tests:**
  - Test Suite 14: 18 new tests for Phase 2 features
  - Total: 111 unit tests (100% passing)

## ‚úÖ Just Completed (2026-01-11):
- **Secret Management v2.0 Phase 1** ‚úÖ COMPLETE
  - **PR:** #198 (feature/secret-management-v2-phase1 ‚Üí main)
  - **Implementation:** ~350 lines of new functionality

  **New Commands:**
  - `dot secret add <name>` - Store secrets with hidden input
    - `--expires <days>` for expiration tracking
    - `--notes <text>` for metadata
    - JSON metadata in Bitwarden notes field
  - `dot secret check` - Dashboard showing expiring/expired secrets
    - Color-coded: ‚úì valid, ‚ö† expiring, ‚ùå expired
    - Configurable warning threshold (default 30 days)
  - `dot secret help` - Help text for all secret subcommands
  - `dot lock` - Lock vault and clear session cache

  **Session Cache (15-min idle timeout):**
  - File-based cache at `~/.cache/dot/session`
  - Tracks unlock time and last activity
  - Auto-locks after 15 min inactivity
  - Configurable via `DOT_SESSION_IDLE_TIMEOUT`
  - `dot` status shows vault state + time remaining
  - 7 helper functions: `_dot_session_cache_{init,save,touch,expired,clear}`, `_dot_session_time_remaining{,_fmt}`

  **Tests:**
  - Test Suite 13: 22 new tests for Phase 1 features
  - Total: 93 unit tests + 14 E2E tests (all passing)

## ‚úÖ Just Completed (2026-01-10):
- **DOT v5.1.1 Test Suite Created** ‚úÖ COMPLETE
  - **Unit Tests:** `test-dot-v5.1.1-unit.zsh` (19 tests, 100% passing)
  - **E2E Tests:** `test-dot-v5.1.1-e2e.zsh` (14 tests, 100% passing)
  - **Interactive Dogfooding:** `interactive-dot-dogfooding.zsh` (8 dishes, "Dotfile Chef" theme)
  - **Total DOT Tests:** 104 automated tests (71 + 19 + 14)

  **Test Coverage:**
  - `_dot_add_file()` helper function
  - `_dot_add()` standalone command
  - `_dot_has_bitwarden_template()` detection
  - `_dot_print_summary()` with contextual tips
  - ZDOTDIR support in security checks
  - Path resolution (full paths, tilde, fuzzy)
  - File creation with mkdir -p
  - Template detection for Bitwarden secrets

- **DOT Secret Management v2.0 SPEC** üìã DRAFTED
  - **File:** `docs/specs/SPEC-dot-secret-management-v2-2026-01-10.md`
  - **Scope:** Full token lifecycle (create, store, use, rotate, revoke)
  - **Features:**
    - Phase 1: `dot secret add`, expiry check, 15-min cache
    - Phase 2: Token wizards (github, npm, pypi), dashboard
    - Phase 3: Refresh/rotate, direnv integration, CI sync
  - **User Story:** Developer managing GH tokens, NPM tokens, PyPI for CI/CD
  - **Acceptance:** Full token lifecycle works end-to-end
  - **Security:** Time-based 15-min cache, no secrets in history

## ‚úÖ Just Completed (2026-01-11):
- **DOT Dispatcher Bug Fixes** ‚úÖ COMPLETE
  - **PR #194:** wc -l sanitization (math expression errors) - Merged
  - **PR #195:** Rewrite tutorial/workflow docs (accuracy) - Merged
  - **PR #196:** Path resolution (absolute paths for chezmoi) - Merged
  - **E2E Testing:** Full workflow verified working
  - **All 56 DOT dispatcher tests passing**

  **Bugs Fixed:**
  1. `_dot_status:48: bad math expression` - wc output contained terminal codes
  2. Fake GIF demos with inaccurate workflows - Deleted, docs rewritten
  3. `dot edit` failed with "Could not determine source path" - Path resolution fixed

  **DOT Evaluation:**
  - B-tier feature: Useful for chezmoi users, not essential for core workflow
  - Reduces 3-4 commands to 1 for dotfile operations
  - Integrated into dashboard and flow doctor

## ‚úÖ Just Completed (2026-01-10 - Later):
- **v5.1.0 Critical Improvements** ‚úÖ COMPLETE
  - **Branch:** `feature/v5.1.0-critical-improvements`
  - **Commits:** 4 commits (35e9a22, 4b55fab, cbc440e, d614328)
  - **Implementation Time:** ~55 minutes (vs estimated 65 min)

  **Features Delivered:**

  1. ‚úÖ **File Modification Detection** (Commit: 4b55fab)
     - Replaced `stat -f "%m"` with `shasum -a 256`
     - SHA-256 hash comparison (deterministic, reliable)
     - Prevents false negatives on fast edits (< 1 second)
     - Perfect for ADHD users who edit quickly

  2. ‚úÖ **Bitwarden Error Handling** (Commit: cbc440e)
     - Parse stderr with specific error patterns
     - Actionable guidance per error type:
       - "Not found" ‚Üí Use 'dot secret list'
       - "Session key" ‚Üí Run 'dot unlock'
       - "locked" ‚Üí Run 'dot unlock'
       - "access denied" ‚Üí Check permissions
     - Uses temp file (mktemp) for secure stderr capture

  3. ‚úÖ **Dry-Run Mode** (Commit: d614328)
     - Added `--dry-run/-n` flag to `dot apply`
     - Leverages chezmoi's native `--dry-run --verbose`
     - Clear visual feedback (DRY-RUN MODE indicator)
     - Skips confirmation prompt in dry-run
     - Updated help text with examples

  **Impact:**
  - Better reliability (hash-based change detection)
  - Better UX (specific error messages)
  - Better safety (dry-run preview mode)

- **v5.1.0 Testing & Release** ‚úÖ COMPLETE
  - **Branch:** `test/v5.1.0-feature-tests`
  - **PR:** #190 (merged to main)
  - **Release:** https://github.com/Data-Wise/flow-cli/releases/tag/v5.1.0

  **Test Suite:**
  - `test-v5.1.0-features.zsh`: 12 automated tests (100% passing)
  - `DOGFOODING-v5.1.0.md`: Manual test guide with step-by-step scenarios

  **Test Coverage:**
  - Hash detection: 2 tests (detects changes, identifies no change)
  - Error handling: 5 tests (all error patterns, temp file cleanup)
  - Dry-run mode: 3 tests (flag parsing, both --dry-run and -n)
  - Integration: 2 tests (shasum, mktemp availability)

- **v5.1.0 Documentation Update** üìö COMPLETE
  - **Branch:** `docs/v5.1.0-documentation-update`
  - **PR:** #191 (pending merge)
  - **Website:** Deployed to https://Data-Wise.github.io/flow-cli/

  **Files Updated:**
  - `DOT-DISPATCHER-REFERENCE.md` (130 lines updated)
    - Version updated: 1.2.0 ‚Üí v5.1.0
    - Hash-based detection fully documented
    - 4 specific Bitwarden error types documented
    - Dry-run mode comprehensively covered
    - Performance benchmarks updated
    - Troubleshooting section enhanced

  - `DOT-WORKFLOW.md` (755 lines, NEW)
    - 5 complete workflows (edit, sync, secrets, experimentation, dashboard)
    - ADHD-friendly patterns and tips
    - Common patterns and troubleshooting
    - Real-world examples for all v5.1.0 features

  - `mkdocs.yml` (navigation updated with new workflow guide)

  **Documentation Audit Results:**
  - ‚úÖ All 11 dispatchers have help functions
  - ‚úÖ All v5.1.0 features fully documented
  - ‚úÖ GIF creation guidelines exist and are comprehensive
  - ‚úÖ Workflow guide gap closed (DOT-WORKFLOW.md)

  **Impact:**
  - Complete v5.1.0 feature documentation
  - Users have practical workflow-oriented guide
  - All new features discoverable and explained

## ‚úÖ Just Completed (2026-01-10 - Earlier):
- **Documentation Enhancement** üìö
  - **PRs Merged:** #186 (dev ‚Üí main), #187 (workflow specs)
  - **Colorized Help:** Added colored output to `pick help` (matches dispatcher style)
  - **New Guides:** 4 comprehensive guides (2,603 lines)
    - `PICK-PROJECT-DISCOVERY.md` (538 lines) - How pick discovers/manages projects
    - `PROJECT-STATUS-GUIDE.md` (597 lines) - .STATUS file format and usage
    - `PLUGIN-MANAGEMENT-WORKFLOW.md` (733 lines) - Complete plugin system guide
    - `CONFIG-MANAGEMENT-WORKFLOW.md` (735 lines) - Configuration system guide
  - **Planning Docs:** 5 workflow enhancement specs (4,798 lines)
    - Brainstorm session, design decisions, UX analysis, architecture analysis
  - **Website:** Updated navigation, deployed to https://Data-Wise.github.io/flow-cli/
  - **Impact:** Improved discoverability and onboarding for all core systems

## ‚úÖ Previously Completed (2026-01-09):
- **v5.0.0 RELEASED** üöÄ
  - **Release URL:** https://github.com/Data-Wise/flow-cli/releases/tag/v5.0.0
  - **Documentation:** https://Data-Wise.github.io/flow-cli/ (deployed)
  - **PRs Merged:** #184 (feature ‚Üí dev), #185 (dev ‚Üí main)
  - **Implementation:** Dot Dispatcher v1.2.0 (26 hours, all 5 phases)
  - **Review Grade:** A- (91/100) - Production Ready
  - **Files Delivered:** 16 new, 4 modified (~3,805 lines)
  - **Test Suite:** 112+ tests across 4 suites (100% passing)
  - **Documentation:** 1,995+ lines (guides, reference, tutorials)

  **Phase Completion:**
  - ‚úÖ Phase 1: Foundation (4h) - Status, help, tool detection
  - ‚úÖ Phase 2: Core Workflows (8h) - Edit, sync, push, diff, apply
  - ‚úÖ Phase 3: Secret Management (6h) - Bitwarden unlock, secret retrieval, HISTIGNORE
  - ‚úÖ Phase 4: Integration (4h) - Dashboard, doctor, work command
  - ‚úÖ Phase 5: Polish (4h) - Completions, tests, docs, performance

  **Key Features:**
  - Chezmoi integration for dotfile sync
  - Bitwarden CLI for secret management
  - Session-scoped security (no persistent BW_SESSION)
  - Dashboard status line (< 100ms)
  - ADHD-friendly progressive disclosure
  - Graceful degradation (optional dependencies)

  **Commands:**
  - `dot` - Status overview (most common)
  - `dot edit .zshrc` - Edit with preview/apply
  - `dot sync` - Pull from remote with safety preview
  - `dot push` - Commit and push changes
  - `dot unlock` - Unlock Bitwarden vault
  - `dot secret <name>` - Retrieve secret (no echo)
  - `dot doctor` - Health check diagnostics

  **Security:**
  - ‚úÖ Automatic HISTIGNORE setup (prevents secret leakage)
  - ‚úÖ Session-scoped BW_SESSION (not persistent)
  - ‚úÖ Security audit function checks for global exports
  - ‚úÖ Stderr redirection prevents token leaks
  - ‚úÖ Clear security warnings in unlock workflow

  **Test Coverage:**
  - test-dot-dispatcher.zsh: 52 tests (core functionality)
  - test-integration.zsh: 35 tests (chezmoi, bitwarden, dashboard, doctor)
  - test-phase3-secrets.zsh: 15 tests (secret management)
  - test-phase4.sh: 10 tests (dashboard integration)
  - run-all-tests.zsh: Test orchestrator with consolidated results

  **Commits:** 12 commits pushed to feature/dot-dispatcher
  - c40bc96: Phase 3 secret management
  - f84be05, 8861838, b6ab9a2, 9927de6: Phase 4 dashboard integration
  - d84da8b: Phase 5 documentation
  - bef73d4: Doctor integration
  - 37bb8e8: Comprehensive test suite
  - (4 more commits for various improvements)

## üîß Enhancement & Improvement Plan (Post-v5.1.0)

### ~~**v5.1.0 - Critical Improvements**~~ ‚úÖ **COMPLETED**

All v5.1.0 features implemented, tested, released, and documented:
- ‚úÖ Hash-based file modification detection
- ‚úÖ Improved Bitwarden error handling (4 specific error types)
- ‚úÖ Dry-run mode (`--dry-run` / `-n` flag)
- ‚úÖ 12 automated tests + manual test guide
- ‚úÖ Complete documentation (reference + workflow guide)
- ‚úÖ GitHub release v5.1.0
- ‚úÖ Documentation deployed to website

**Actual Implementation Time:** ~55 minutes (vs estimated 65 min)
**Release:** https://github.com/Data-Wise/flow-cli/releases/tag/v5.1.0

---

### **v5.2.0 - Performance Optimizations** (Target: v5.2.0, ~2 hours)

**Priority 2: Performance Enhancements**
1. **Dashboard Status Line Caching** (helpers:251-332) - 1 hour
   - Add 30-second cache to `_dot_get_status_line()`
   - Cache variables: `_FLOW_DOT_STATUS_LINE_CACHE`, `_FLOW_DOT_STATUS_LINE_TIME`
   - Impact: Reduces dashboard load time by 50-100ms on repeated calls

2. **Git Operation Batching** (helpers:121-155) - 1 hour
   - Single git fetch instead of multiple checks
   - Cache ahead/behind counts in global variables
   - Impact: Reduces git operations from 3 to 1

**Estimated Total:** 2 hours

---

### **v5.3.0 - Feature Enhancements** (Target: v5.3.0, ~3.5 hours)

**Priority 3: New Features**
1. **Secret Clipboard Integration** (NEW) - 30 min
   - `dot secret copy <name>` - Copy secret to clipboard
   - Auto-clear after 30 seconds (security)
   - Uses `pbcopy` on macOS, `xclip` on Linux
   - Add 5 tests

2. **Interactive Secrets Dashboard** (NEW) - 1 hour
   - `dot secrets -i` / `dot secrets --interactive` - fzf picker
   - Preview: token type, expiration, last rotated
   - Actions: copy, refresh, delete
   - Keyboard shortcuts (Ctrl-C copy, Ctrl-R refresh)
   - Add 8 tests

3. **Template Validation** (NEW) - 30 min
   - `dot validate` - Check templates before apply
   - Validates Bitwarden references exist
   - Dry-run template expansion
   - Reports missing secrets
   - Add 6 tests

4. **Undo Implementation** (dispatcher:869-872) - 1 hour
   - Replace placeholder with actual git revert
   - Show last commit, confirm, revert + re-apply
   - Add 8 tests for undo scenarios

5. **Template Helper** (existing) - 30 min
   - `dot template <file>` - Preview template with secrets
   - Uses `chezmoi execute-template` for local preview
   - Add help section, 5 tests

**Estimated Total:** 3.5 hours

---

### **v5.4.0 - Code Quality** (Target: v5.4.0, ~1.5 hours)

**Priority 4: Code Quality Improvements**
1. **Extract Magic Numbers** (dispatcher) - 20 min
   - Define `DOT_MAX_DIFF_LINES=20`, `DOT_MAX_LOG_COMMITS=5`
   - Update all hardcoded values

2. **Input Validation** (dispatcher:792) - 20 min
   - Validate secret names (prevent injection)
   - Pattern: `[^a-zA-Z0-9_-]`

3. **Completion Enhancements** (completions/_dot:45-52) - 30 min
   - Add timeout to `bw list items` (prevent hanging)
   - Filter for login items only (type 1)

4. **Remove Duplicate Functions** (dot-doctor-integration.zsh:99-113) - 20 min
   - Remove `_dot_doctor_check_cmd` (use main `_doctor_check_cmd`)

**Estimated Total:** 1.5 hours

---

### **v5.5.0 - Observability** (Target: v5.5.0, ~2 hours)

**Priority 5: Testing & Observability**
1. **Debug Mode** (helpers.zsh) - 1 hour
   - `FLOW_DOT_DEBUG=1` enables verbose logging
   - `_dot_debug()` function for conditional logging
   - Add debug logging to critical paths

2. **Performance Metrics** (NEW file: lib/dispatchers/dot-metrics.zsh) - 1 hour
   - Track operation durations
   - `_dot_metric_start()`, `_dot_metric_end()`
   - Optional metrics display in debug mode

**Estimated Total:** 2 hours

---

## üìä Implementation Summary

| Version | Priority | Features | Estimated Time | Status |
|---------|----------|----------|----------------|--------|
| v5.1.0 | P1 - Critical | Bug fixes, dry-run | 1 hour | ‚úÖ RELEASED |
| v5.2.0 | P2 - Performance | Caching, git batching | 2 hours | üìã Planned |
| v5.3.0 | P3 - Features | Undo, template, publish | 2.5 hours | üìã Planned |
| v5.4.0 | P4 - Quality | Constants, validation | 1.5 hours | üìã Planned |
| v5.5.0 | P5 - Observability | Debug, metrics | 2 hours | üìã Planned |

**v5.1.0 Completed:** 55 minutes actual (vs 65 min estimated) - 15% under estimate
**Remaining Enhancement Effort:** ~8 hours across 4 future releases

---

## ‚úÖ Previous Releases

- **v4.9.2 RELEASED** üöÄ
  - **Release Date:** 2026-01-07 23:29:49 UTC
  - **Release URL:** https://github.com/Data-Wise/flow-cli/releases/tag/v4.9.2
  - **PRs:** #182 (Phase 3 work), #183 (version bump) - both merged
  - **Tag:** v4.9.2 created and pushed
  - **Homebrew:** Formula will auto-update via GitHub Actions
  - **Documentation:** Live at https://Data-Wise.github.io/flow-cli/
  - **Branches:** dev and main synchronized
  - **Release Notes:** Comprehensive release notes with all Phase 3 details
  - **Components:**
    - 100% command documentation standardization
    - Documentation Making Guide (972 lines)
    - Phase 3 audit completion summary
    - .STATUS updates
  - **Statistics:**
    - 32 files standardized
    - Template compliance: 21% ‚Üí 61% (+40pp)
    - 4.5 hours across 3 sessions
    - 6 commits for Phase 3

- **Phase 3: Documentation Standardization - 100% COMPLETE** ‚ú®
  - **Command docs:** 0/20 ‚Üí 20/20 (100% standardized) üéØ
  - **Template compliance:** 21% ‚Üí 61% (+40 percentage points)
  - **Files updated:** 32 total across 6 commits, 3 sessions
    - Session 1: 12 files (4 priority + 8 dispatchers)
    - Session 2: 18 files (3 batches: 5 + 4 + 9 commands)
    - Session 3: 2 files (final completion: pick.md, work.md)
  - **All batches:**
    - Batch 1: 5 core workflow commands (flow, finish, hop, dash, status)
    - Batch 2: 4 medium-priority (capture, sync, doctor, config)
    - Batch 3: 9 additional commands (ai, alias, dashboard, do, install, morning, plugin, timer, upgrade)
    - Batch 4: 2 final completion (pick, work) - Status lines added
  - **Template elements (all 20 commands):**
    - Template markers (> blockquote descriptions)
    - Synopsis sections with quick examples
    - Standard footers (date, version, status with key features)
    - Enhanced "See Also" cross-references
  - **Achievement:**
    - ‚úÖ 100% command documentation standardized
    - ‚úÖ 100% high-impact pages standardized
    - ‚úÖ All 8 dispatcher reference cards standardized
  - **Deployment:** Live at https://Data-Wise.github.io/flow-cli/
  - **Documentation:** PHASE-3-CONTENT-AUDIT.md updated with 100% completion status
  - **Impact:** Professional, consistent, ADHD-friendly documentation across all commands

- **v4.9.1 Bug Fixes COMPLETE** - Two critical UX bugs fixed
  1. **Help browser preview pane** - Fixed "command not found" errors
     - Root cause: fzf preview ran in subshell without plugin loaded
     - Solution: `_flow_show_help_preview()` helper function pattern
     - Tests: 6 automated tests (test-help-browser-preview.zsh)
     - Files: lib/help-browser.zsh (+18 lines, -13 lines simplified)

  2. **Missing `ccy` alias** - Added to alias reference command
     - Root cause: Defined in cc-dispatcher but not in alias.zsh
     - Solution: Added to summary + detailed views, updated counts
     - Tests: Updated Test 22 in test-phase2-features.zsh
     - Files: commands/alias.zsh (+4 lines modified)

  - **Test results:** 47/47 passing
  - **Documentation:** 2 bug fix reports (BUG-FIX-*.md)
  - **Impact:** Phase 2 interactive help browser and alias reference fully functional

- **v4.9.0 Phase 2 COMPLETE** - Interactive Help System shipped (PR #179)
  - Interactive help browser with fzf (`flow help -i`)
  - Context-aware help (R package, Node.js, Git, Quarto, Python, general)
  - Comprehensive alias reference command (`flow alias`)
  - 47 automated tests (unit, edge cases, E2E, regression, performance)
  - 31 manual test procedures (TESTING-PHASE2.md)
  - All tests passing ‚úÖ
  - Zero breaking changes
  - Files: lib/help-browser.zsh (NEW), commands/alias.zsh (NEW)
  - Tests: test-phase2-features.zsh (540 lines), test-framework.zsh (+40 lines)
  - Docs: TESTING-PHASE2.md (800+ lines)
  - Result: 4 files changed, 1,514 insertions, better discoverability

- **v4.8.1 Release** - Homebrew installation now primary method
  - README.md: Homebrew moved to top with ‚≠ê designation
  - docs/index.md: Homebrew tab added first ("No shell config needed!")
  - docs/getting-started/installation.md: Complete Homebrew lifecycle docs
  - docs/getting-started/faq.md: Added "How do I install?" with Homebrew
  - Better onboarding: ~30 seconds vs ~5-10 minutes
  - PR #165 (Homebrew docs), #166 (CHANGELOG), #167 (version bump) - all merged
  - GitHub Release: https://github.com/Data-Wise/flow-cli/releases/tag/v4.8.1
  - Homebrew formula updated (cc9b569)

- **v4.8.0 Release** - CC Unified Grammar shipped same-day
  - Both command orders work: `cc opus pick` AND `cc pick opus`
  - Shell completions (_cc) with context-aware suggestions (134 lines)
  - 30 comprehensive tests (100% passing)
  - Fixed `cc haiku` eval bug
  - GitHub release created with full release notes

- **Post-release Documentation** - Zero warnings achieved
  - Rewrote START-HERE guide (complete overhaul from 2025-12-19 content)
  - Added v4.9.0 roadmap (5 enhancement options, phased approach)
  - Fixed all broken documentation links (13 ‚Üí 0 warnings)
  - Spec archived: SPEC-cc-unified-grammar-2026-01-02.md ‚Üí _archive/
  - Deployed clean docs to GitHub Pages

- **Release Automation**
  - Homebrew formula updated (automated PR #9)
  - 3 PRs merged: #162 (feature), #163 (docs), #164 (final fixes)
  - All CI tests passing (11-16 seconds)

## Quick Context
Pure ZSH workflow plugin with optional atlas integration for state management.
Clean separation from atlas (Node.js state engine) complete.
Legacy 140KB monolithic code archived - lean plugin architecture.

## Architecture (v3.2.0)
```
flow-cli/
‚îú‚îÄ‚îÄ flow.plugin.zsh        # Plugin entry point (v3.2.0)
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ core.zsh           # Core utilities, colors
‚îÇ   ‚îú‚îÄ‚îÄ atlas-bridge.zsh   # Atlas CLI integration (graceful fallback)
‚îÇ   ‚îú‚îÄ‚îÄ project-detector.zsh
‚îÇ   ‚îú‚îÄ‚îÄ tui.zsh            # TUI components
‚îÇ   ‚îî‚îÄ‚îÄ dispatchers/       # g, mcp, obs, qu, r, cc dispatchers
‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îú‚îÄ‚îÄ work.zsh           # work, finish, hop, why
‚îÇ   ‚îú‚îÄ‚îÄ dash.zsh           # dash, dash-tui
‚îÇ   ‚îú‚îÄ‚îÄ capture.zsh        # catch, inbox, crumb, win, yay
‚îÇ   ‚îú‚îÄ‚îÄ adhd.zsh           # js, next (--ai), stuck (--ai), focus, brk
‚îÇ   ‚îú‚îÄ‚îÄ status.zsh         # status, st, setprogress
‚îÇ   ‚îú‚îÄ‚îÄ timer.zsh          # timer, pom
‚îÇ   ‚îú‚îÄ‚îÄ morning.zsh        # morning, today, week, am
‚îÇ   ‚îú‚îÄ‚îÄ flow.zsh           # flow dispatcher (help, version, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ ai.zsh             # flow ai, flow do (NEW v3.2.0)
‚îÇ   ‚îú‚îÄ‚îÄ install.zsh        # flow install (NEW v3.2.0)
‚îÇ   ‚îî‚îÄ‚îÄ upgrade.zsh        # flow upgrade (NEW v3.2.0)
‚îú‚îÄ‚îÄ completions/           # ZSH completions
‚îú‚îÄ‚îÄ hooks/                 # chpwd, precmd
‚îú‚îÄ‚îÄ setup/                 # Setup files
‚îÇ   ‚îî‚îÄ‚îÄ Brewfile           # Recommended CLI tools
‚îî‚îÄ‚îÄ zsh/functions/         # Symlinks to external integrations only
    ‚îú‚îÄ‚îÄ core-utils.zsh ‚Üí zsh-claude-workflow/
    ‚îú‚îÄ‚îÄ obs.zsh ‚Üí obsidian-cli-ops/
    ‚îî‚îÄ‚îÄ project-detector.zsh ‚Üí zsh-claude-workflow/
```

## v3.6.2 Changes (2025-12-27) ‚úÖ COMPLETE
### CC Dispatcher Bug Fix
- [x] Fixed `cc <mode> pick <project>` variants not passing args to pick
- [x] All 5 pick variants now work: pick, yolo pick, plan pick, opus pick, haiku pick
- [x] 52 tests passing (24 cc-dispatcher + 10 pick-variants + 18 pick-defaults)

### Release Automation
- [x] Created `scripts/release.sh` for automated version bumping
- [x] Updates package.json, README badge, CLAUDE.md, CC-DISPATCHER-REFERENCE.md
- [x] Added release instructions to CLAUDE.md

### Documentation
- [x] Updated CC-DISPATCHER-REFERENCE.md with all pick variant combinations
- [x] Fixed README badge (static for private repo)
- [x] Removed orphan docs causing build warnings
- [x] Deployed updated docs to GitHub Pages

## CC Dispatcher (2025-12-27) ‚úÖ COMPLETE
- [x] Added `cc` dispatcher for Claude Code workflows
- [x] Default launches Claude in current directory (not picker)
- [x] `cc pick` subcommand for project selection
- [x] Consistent pattern: `<mode>` = here, `<mode> pick` = picker
- [x] `cc now` deprecated (redundant with new default)
- [x] Updated all docs (CLAUDE.md, README.md, DISPATCHER-REFERENCE.md)

## v3.3.0 Changes (2025-12-26) ‚úÖ COMPLETE
### Plugin System
- [x] `lib/plugin-loader.zsh` - Core plugin system (400+ lines)
  - [x] Plugin discovery (single file, directory, git)
  - [x] Plugin registration and loading
  - [x] Enable/disable with registry persistence
  - [x] Dependency checking (tools, flow version)
- [x] Hook system with 8 events
  - [x] post-work, pre-finish, post-finish
  - [x] session-start, session-end
  - [x] project-change, pre-command, post-command
- [x] `flow plugin` command
  - [x] list, enable, disable, create, install, remove
  - [x] info, hooks, path
  - [x] GitHub installation support (gh:user/repo)
  - [x] Dev mode installation (symlink)
- [x] Example plugin demonstrating capabilities
- [x] Tab completions for plugin commands
- [x] Version bump to 3.3.0

## v3.2.0 Changes (2025-12-26) ‚úÖ COMPLETE
### AI-Powered Commands
- [x] `flow ai <query>` - Ask AI anything with project context
- [x] `flow ai --explain <code>` - Explain code or concepts
- [x] `flow ai --fix <problem>` - Get fix suggestions
- [x] `flow ai --suggest <goal>` - Get improvement suggestions
- [x] `flow ai --create <spec>` - Generate code from description
- [x] `flow do "<natural language>"` - Natural language ‚Üí shell command
- [x] `stuck --ai` - AI-powered help when blocked
- [x] `next --ai` - AI-powered task suggestions

### Install & Upgrade System
- [x] `flow install` - Interactive tool installer
- [x] `flow install --profile <name>` - Profile-based install (minimal/developer/researcher/writer/full)
- [x] `flow install --category <name>` - Category-based install (core/productivity/git/dev/research)
- [x] `flow upgrade self` - Self-update flow-cli via git
- [x] `flow upgrade tools` - Update Homebrew packages
- [x] `flow upgrade plugins` - Update ZSH plugins
- [x] `flow upgrade all` - Update everything
- [x] `flow upgrade --check` - Check for updates without applying

### Infrastructure
- [x] Tab completions for all new commands
- [x] Help system integration
- [x] Context-aware AI prompts
- [x] Safety checks for dangerous commands in `flow do`
- [x] Version bump to 3.2.0

## v3.1.0 Changes (2025-12-26) ‚úÖ COMPLETE
- [x] `flow doctor` command with --fix and --ai modes
- [x] setup/Brewfile with 14 recommended CLI tools
- [x] Dashboard Phase 1 enhancements complete

## v3.0.0 Changes (2025-12-25) ‚úÖ COMPLETE
- [x] Archive 140KB legacy zsh/functions/ to .archive/
- [x] Keep only symlinks to external integrations
- [x] Remove FLOW_LEGACY_COMPAT flag (no longer needed)
- [x] Update plugin loading to handle symlinks properly
- [x] Bump version to 3.0.0

## Completed
- [x] Create ZSH plugin structure
- [x] Migrate core commands to commands/
- [x] Create lib/core.zsh, atlas-bridge.zsh
- [x] Create all core commands (work, dash, capture, adhd, status, timer, morning)
- [x] Move dispatchers to lib/dispatchers/
- [x] Archive Node.js CLI to atlas project
- [x] Archive legacy 140KB functions to .archive/
- [x] Clean plugin entry point
- [x] Update version to 3.0.0

## Features
### Core Commands
- `work <project>` - Start working on a project
- `finish [note]` - End session with optional commit
- `hop <project>` - Quick project switch (tmux)
- `why` - Show current context

### Dashboard
- `dash` - Project dashboard
- `dash-tui` - Interactive fzf dashboard

### Capture (Dopamine)
- `catch <text>` - Quick idea capture
- `crumb <text>` - Leave breadcrumb
- `win <text>` - Log accomplishment
- `yay` - Show recent wins

### ADHD Helpers
- `js` - Just start (anti-paralysis)
- `next` - What to work on (`--ai` for AI suggestion)
- `stuck` - When blocked (`--ai` for AI help)
- `focus [text]` - Get/set focus
- `brk [min]` - Take a break

### AI-Powered (v3.2.0)
- `flow ai <query>` - Ask AI with context
- `flow ai --explain` - Explain code/concepts
- `flow ai --fix` - Get fix suggestions
- `flow ai --suggest` - Get improvements
- `flow ai --create` - Generate code
- `flow do "..."` - Natural language commands

### Setup & Management (v3.2.0)
- `flow install` - Interactive tool installer
- `flow install --profile <p>` - Install by profile
- `flow upgrade self` - Update flow-cli
- `flow upgrade tools` - Update brew packages
- `flow doctor` - Health check & diagnostics

### Status Management
- `status [project]` - Show/update status
- `setprogress <n>` - Quick progress update

### Timers
- `timer [min]` - Focus timer
- `timer break` - Break timer
- `pom [cycles]` - Pomodoro

### Daily Routine
- `morning` - Start of day overview
- `today` - Today's status
- `week` - Weekly review
- `am` - Quick morning check

## Integration
- Atlas: Optional state engine (`npm i -g @data-wise/atlas`)
- Graceful degradation when atlas not installed
- All commands work standalone

## Installation
```bash
# As ZSH plugin (antidote)
antidote install data-wise/flow-cli

# Manual
source /path/to/flow.plugin.zsh
```

## Configuration
```zsh
# In .zshrc before sourcing plugin:
FLOW_PROJECTS_ROOT=~/projects
FLOW_ATLAS_ENABLED=auto    # auto|yes|no
FLOW_LOAD_DISPATCHERS=yes  # Load v, g, mcp, obs
FLOW_QUIET=1               # Disable welcome message
```

## Links
- GitHub: https://github.com/Data-Wise/flow-cli
- Atlas: https://github.com/Data-Wise/atlas
- npm (atlas): `npm install -g @data-wise/atlas`

## Roadmap

### v4.8.0 - CC Unified Grammar ‚úÖ SHIPPED (2026-01-02)
**Status:** Released and deployed
**Spec:** `docs/specs/_archive/SPEC-cc-unified-grammar-2026-01-02.md` (archived)
**Release:** https://github.com/Data-Wise/flow-cli/releases/tag/v4.8.0
**Release Notes:** `RELEASE-v4.8.0.md`

#### Summary
Same-day release cycle: 0% ‚Üí Design ‚Üí Implement ‚Üí Test ‚Üí Release ‚Üí Deploy ‚Üí Document
- ‚úÖ Both command orders work (`cc opus pick` AND `cc pick opus`)
- ‚úÖ Shell completions with context-aware suggestions
- ‚úÖ 54 tests passing (30 unified grammar + 24 cc-dispatcher)
- ‚úÖ Zero breaking changes
- ‚úÖ Documentation deployed with zero warnings
- ‚úÖ Homebrew formula updated

**Shipped:** 2026-01-02

### v3.3.0 - Configuration & Plugin System ‚úÖ COMPLETE
- [x] `flow config` - Interactive configuration
  - [x] `flow config show` - Display current config
  - [x] `flow config set <key> <value>` - Set config value
  - [x] `flow config edit` - Open config in editor
  - [x] `flow config reset` - Reset to defaults
  - [x] `flow config wizard` - Interactive configuration wizard
  - [x] `flow config export` - Export config in shell format
  - [x] `flow config path` - Show config file paths
- [x] Plugin system
  - [x] Plugin loader architecture (lib/plugin-loader.zsh, 400+ lines)
  - [x] Plugin discovery (local + git)
  - [x] `flow plugin list` - List available plugins
  - [x] `flow plugin install <name>` - Install plugin
  - [x] `flow plugin enable/disable` - Toggle plugins
  - [x] `flow plugin create` - Create new plugin from template
  - [x] Hook system with 8 events
- [x] Configuration profiles
  - [x] `flow config profile save <name>` - Save current config
  - [x] `flow config profile load <name>` - Load config profile
  - [x] Built-in profiles: minimal, developer, adhd, researcher
  - [x] Export/import for sharing

### v3.4.0 - AI Enhancement ‚úÖ COMPLETE
- [x] AI recipes/templates
  - [x] 10 built-in recipes (review, commit, debug, refactor, test, etc.)
  - [x] `flow ai recipe <name>` - Run saved recipe
  - [x] Custom recipe creation (`flow ai recipe create`)
  - [x] Variable substitution ({{input}}, {{project_type}}, etc.)
- [x] Usage tracking & suggestions
  - [x] `lib/ai-usage.zsh` - Track AI command usage
  - [x] `flow ai usage stats` - Show usage statistics
  - [x] `flow ai usage suggest` - Personalized suggestions
  - [x] Project-type aware recommendations
- [x] Multi-model support
  - [x] `flow ai model list` - List available models
  - [x] `flow ai model set <name>` - Set default model
  - [x] `--model` flag for one-off model selection
  - [x] Opus, Sonnet, Haiku support
- [x] Conversation mode
  - [x] `flow ai chat` - Interactive session
  - [x] Context persistence
  - [x] /commands for in-chat control
- [x] Dashboard enhancements (v3.5.0 preview)
  - [x] Quick wins section (< 30min tasks)
  - [x] Urgency indicators (üî•‚è∞‚ö°)

### v3.5.0 - Dashboard Polish (IN PROGRESS)
- [x] Dopamine features
  - [x] Recent wins display in `dash` (show last 3 wins with timestamps)
  - [x] Streak visualization (üî• consecutive days counter)
  - [x] `yay --week` - Weekly accomplishments summary with mini graph
  - [x] Win categories (code, docs, review, ship, fix, test) with auto-detection
- [x] Daily goal tracking
  - [x] `flow goal set <n>` - Set daily task goal
  - [x] `flow goal` - Show progress toward daily goal (with progress bar)
  - [x] Goal display in dash (shows progress in wins section)
  - [x] .STATUS field: `daily_goal: 3` with per-project override
- [x] Extended .STATUS format
  - [x] `wins:` - Recent wins array
  - [x] `streak:` - Current streak count
  - [x] `last_active:` - Last activity timestamp
  - [x] `tags:` - Project tags for filtering
- [x] Interactive TUI improvements
  - [x] `dash --tui` keyboard shortcuts (Ctrl-E edit, Ctrl-S status, Ctrl-W wins)
  - [x] Live refresh option (`dash --watch`)
  - [x] Project preview pane with extended status and git log

### v4.0.0 - Ecosystem Integration ‚úÖ COMPLETE
- [x] Cross-tool orchestration
  - [x] `flow sync all` - Sync everything
  - [x] Unified status across tools

### v4.1.0 - Git Feature Workflow ‚úÖ COMPLETE
- [x] Feature branch workflow
  - [x] `g feature start <name>` - Create feature from dev
  - [x] `g feature sync` - Rebase onto dev
  - [x] `g feature list` - List feature/hotfix branches
  - [x] `g feature finish` - Push + create PR to dev
  - [x] `g promote` - PR feature ‚Üí dev
  - [x] `g release` - PR dev ‚Üí main
  - [x] Workflow guard - Blocks push to main/dev
- [x] Worktree management (`wt` dispatcher)
  - [x] `wt list` - List worktrees
  - [x] `wt create <branch>` - Create worktree
  - [x] `wt move` - Move current branch to worktree
  - [x] `wt remove <path>` - Remove worktree
  - [x] `wt clean` - Prune stale worktrees
- [x] 33 new tests (16 g feature + 17 wt dispatcher)
- [x] Documentation updated (DISPATCHER-REFERENCE.md)
- [x] See: docs/decisions/PROPOSAL-GIT-FEATURE-WORKFLOW.md

### v4.2.0 - Workflow Polish ‚úÖ COMPLETE
- [x] Branch cleanup
  - [x] `g feature prune` - Delete merged feature branches
  - [x] `g feature prune --all` - Also clean remote tracking branches
  - [x] `g feature prune -n` - Dry run preview
  - [x] 18 tests in test-g-feature-prune.zsh
  - [ ] Note: Rich interactive cleanup ‚Üí aiterm (`ait feature cleanup`)
- [x] Worktree + Claude integration ‚úÖ COMPLETE
  - [x] `cc wt <branch>` - Launch Claude in worktree (creates if needed)
  - [x] `cc wt pick` - fzf picker for existing worktrees
  - [x] `cc wt yolo|plan|opus <branch>` - Mode chaining support
  - [x] Aliases: `ccw`, `ccwy`, `ccwp`
  - [x] `_wt_get_path()` helper function in wt-dispatcher.zsh
  - [x] tests/test-cc-wt.zsh (20 tests, all passing)
  - [x] Bug fix: Renamed `local path` ‚Üí `local result_path` (zsh path array conflict)
  - [x] Docs: CC-DISPATCHER-REFERENCE.md, DISPATCHER-REFERENCE.md
  - [x] See: docs/decisions/BRAINSTORM-cc-wt-2025-12-29.md

#### Implementation Notes: cc wt (Completed)

Implementation in cc-dispatcher.zsh:
- Added `wt|worktree|w)` case to cc() dispatcher
- `_cc_worktree()` handles mode parsing (yolo/plan/opus/haiku) + branch
- `_cc_worktree_pick()` uses fzf for worktree selection
- `_cc_worktree_help()` provides formatted help
- Helper `_wt_get_path()` in wt-dispatcher.zsh

Key learnings:
- In zsh, `local path` shadows the `path` array (tied to `PATH`)
- Use `local result_path` or similar to avoid PATH corruption

### v4.3.0+ Future Enhancements

#### 1. `g feature prune --force` (P2, ~30 min)
**Implementation:** Add `--force|-f` flag parsing, skip confirmation when set.
```zsh
# In _g_feature_prune(), add:
local force=false
case "$1" in
    --force|-f) force=true; shift ;;
esac
# Then skip interactive confirmation if $force is true
```

#### 2. `wt prune` (P2, ~1 hour)
**Implementation:** Combine `wt clean` + `g feature prune` in sequence.
```zsh
# In wt(), add:
prune)
    shift
    case "$1" in
        --branches-only) g feature prune "$@" ;;
        --worktrees-only) git worktree prune ;;
        *) git worktree prune && g feature prune "$@" ;;
    esac
    ;;
```

#### 3. `g feature prune --older-than` (P3, ~1 hour)
**Implementation:** Parse duration, filter by commit date.
```zsh
# Parse: 30d ‚Üí 30 days, 1w ‚Üí 7 days
local max_age_days=0
if [[ "$1" == --older-than ]]; then
    local duration="$2"
    case "$duration" in
        *d) max_age_days="${duration%d}" ;;
        *w) max_age_days=$((${duration%w} * 7)) ;;
    esac
fi
# Filter: git log -1 --format=%ct "$branch" ‚Üí compare to now
```

#### 4. `g feature status` (P3, ~45 min)
**Implementation:** Show merged + unmerged branches with age info.
```zsh
_g_feature_status() {
    echo "üßπ Stale branches (merged to dev):"
    git branch --merged dev | while read branch; do
        [[ "$branch" == feature/* ]] || continue
        local age=$(git log -1 --format="%cr" "$branch")
        echo "  $branch ($age)"
    done

    echo "\n‚ö†Ô∏è  Unmerged branches:"
    git branch --no-merged dev | while read branch; do
        [[ "$branch" == feature/* ]] || continue
        local commits=$(git rev-list --count dev.."$branch")
        echo "  $branch ($commits commits ahead)"
    done
}
```

### v4.3.0 - Team & Remote (Future)
- [ ] Remote state sync
  - [ ] Optional cloud backup
  - [ ] Multi-device support
- [ ] Team features (optional)
  - [ ] Shared project templates
  - [ ] Team dashboards

## Session Log
- 2025-12-27: v4.0.0 RELEASE - Major version with unified sync command
- 2025-12-27: DOCS - Deployed v4.0.0 documentation to GitHub Pages
- 2025-12-27: DOCS - Deployed v3.6.3 documentation to GitHub Pages
- 2025-12-27: DOCS - Fixed 11 orphan pages, 2 broken links in mkdocs (PR #26)
- 2025-12-27: v3.6.3 - Version bump, maintenance release (PR #25)
- 2025-12-27: TEST - Added unit tests for _flow_status_get/set_field (12 tests) (PR #23)
- 2025-12-27: REFACTOR - Moved zmodload to module initialization in capture.zsh (PR #23)
- 2025-12-27: DOCS - Added TODO for atlas --type=win support (PR #23)
- 2025-12-27: FIX - win command now writes to local file (atlas lacks --type=win) (PR #21)
- 2025-12-27: FIX - _flow_status_get/set_field rewritten with pure ZSH builtins (PR #21)
- 2025-12-27: FIX - Cleaned malformed wins.md test data (empty date brackets)
- 2025-12-27: DOCS - Updated planning docs, deployed to GitHub Pages (PR #19)
- 2025-12-27: v4.0.0 - Implemented `flow sync all` unified sync command (595 lines)
- 2025-12-27: v4.0.0 - 5 sync targets: session, status, wins, goals, git
- 2025-12-27: v4.0.0 - Smart sync detection, dashboard, state file
- 2025-12-27: v4.0.0 - Created test-sync.zsh (40 tests, 100% pass)
- 2025-12-27: v4.0.0 - Created docs/commands/sync.md (comprehensive docs)
- 2025-12-27: DOCS - Rewrote ARCHITECTURE-ROADMAP.md for pure ZSH (was outdated Node.js CLI)
- 2025-12-27: DOCS - Created V4-PLANNING.md with ecosystem integration roadmap
- 2025-12-27: v3.6.2 - Created scripts/release.sh for automated version bumping
- 2025-12-27: v3.6.2 - Fixed README badge (static for private repo)
- 2025-12-27: v3.6.2 - Synced all version files to 3.6.2, cleaned orphan docs
- 2025-12-27: v3.6.2 - Updated CC-DISPATCHER-REFERENCE.md with pick variants
- 2025-12-27: v3.6.2 - Fixed cc pick variants bug (args passed to pick not claude)
- 2025-12-27: v3.6.1 - Added Scribe CLI integration, improved help format
- 2025-12-26: DOCS - Deployed v3.5.0 documentation to GitHub Pages
- 2025-12-26: v3.5.0 RELEASE - Version bumped to 3.5.0, all dopamine features complete
- 2025-12-26: v3.5.0 - Added daily_goal field to .STATUS with per-project override
- 2025-12-26: v3.5.0 - Extended .STATUS format (wins, streak, last_active, tags) implemented
- 2025-12-26: v3.5.0 - Interactive TUI improvements (Ctrl-E/S/W keybindings, watch mode)
- 2025-12-26: v3.5.0 - Fixed _flow_find_project_path eval bug (atlas shell format issue)
- 2025-12-26: v3.5.0 - Tested all dopamine features (win categories, goal, extended status)
- 2025-12-26: v3.5.0 - Win categories (code/docs/review/ship/fix/test) with auto-detection
- 2025-12-26: v3.5.0 - `flow goal` command for daily win goal tracking with progress bar
- 2025-12-26: v3.5.0 - Goal progress in dash wins section
- 2025-12-26: DOCS - Fixed remaining 12 broken link warnings (now just 1 expected warning)
- 2025-12-26: DOCS - Deployed updated documentation to GitHub Pages
- 2025-12-26: v3.5.0 - Implemented wins display in dash with streak counter
- 2025-12-26: v3.5.0 - Added yay --week with weekly summary and mini activity graph
- 2025-12-26: v3.5.0 PLANNING - Detailed roadmap with dopamine features, daily goals, TUI
- 2025-12-26: DOCS - Fixed 16 broken link warnings (42‚Üí26), added CONTRIBUTING.md to docs
- 2025-12-26: TEST - Created test-ai-features.zsh (19 tests) and test-quick-wins.zsh (13 tests)
- 2025-12-26: CI - Added new tests to GitHub Actions workflow
- 2025-12-26: v3.4.0 - Version bump to 3.4.0
- 2025-12-26: DASH - Added Quick Wins section for tasks < 30min
- 2025-12-26: DASH - Added urgency indicators (üî•‚è∞‚ö°) to Quick Access
- 2025-12-26: AI - Created `flow ai model` command (list, set, show)
- 2025-12-26: AI - Added --model flag for one-off model selection
- 2025-12-26: AI - Created lib/ai-usage.zsh (280+ lines) - usage tracking
- 2025-12-26: AI - Added `flow ai usage` command (stats, suggest, recent)
- 2025-12-26: AI - Created AI recipes system (lib/ai-recipes.zsh, 300+ lines)
- 2025-12-26: AI - 10 built-in recipes (review, commit, debug, refactor, test, etc.)
- 2025-12-26: AI - Created `flow ai chat` interactive conversation mode
- 2025-12-26: AI - Chat with /commands, context toggle, persistent history
- 2025-12-26: CONFIG - Created config system (lib/config.zsh, 350+ lines)
- 2025-12-26: CONFIG - Created flow config command with 11 subcommands
- 2025-12-26: CONFIG - Built-in profiles: minimal, developer, adhd, researcher
- 2025-12-26: CONFIG - Interactive wizard and profile management
- 2025-12-26: PLUGIN - Created plugin system (lib/plugin-loader.zsh, 400+ lines)
- 2025-12-26: PLUGIN - Created flow plugin command with 9 subcommands
- 2025-12-26: PLUGIN - Created hook system with 8 events
- 2025-12-26: PLUGIN - Created example plugin demonstrating capabilities
- 2025-12-26: PLUGIN - Version bump to 3.3.0
- 2025-12-26: AI - Created `flow ai` command (461 lines) - ask AI with context
- 2025-12-26: AI - Created `flow do` command - natural language ‚Üí shell
- 2025-12-26: AI - Enhanced `stuck --ai` and `next --ai` with Claude integration
- 2025-12-26: INSTALL - Created `flow install` command (445 lines) - profiles & categories
- 2025-12-26: UPGRADE - Created `flow upgrade` command (377 lines) - self, tools, plugins
- 2025-12-26: Version bump to 3.2.0 - 1594 new lines of code
- 2025-12-26: DOCTOR - Created `flow doctor` command with --fix and --ai modes
- 2025-12-26: DOCTOR - Created setup/Brewfile with 14 recommended CLI tools
- 2025-12-26: DOCTOR - Fixed 10+ broken documentation links
- 2025-12-26: DOCTOR - Updated COMMAND-QUICK-REFERENCE.md and installation.md
- 2025-12-26: DOCTOR - Deployed updated website to GitHub Pages
- 2025-12-25: Phase 1 COMPLETE - All 5 improvements implemented and tested
- 2025-12-25: Dashboard UX review - designed ADHD-friendly improvements
- 2025-12-25: Fixed external command deps (sed/cut/wc/tr/date ‚Üí ZSH builtins)
- 2025-12-25: v3.0.0 - Clean Architecture achieved
- 2025-12-25: Legacy 140KB functions archived
- 2025-12-25: Symlink-only external integrations

## wins: v5.2.0 Released, All enhancements verified, Docs deployed
## streak: 15
## last_active: 2026-01-11

## üéØ Next Action:
**Focus:** Teaching Workflow Implementation ‚ö°

**Worktree Ready:**
- Location: `~/.git-worktrees/flow-cli-teaching-workflow`
- Branch: `feature/teaching-workflow` (from dev)
- Spec: `docs/specs/SPEC-teaching-workflow.md` (911 lines, approved)

**Critical - Follow Workflow Protocol:**
```bash
# Do NOT continue in this session
# Start NEW session for implementation:

cd ~/.git-worktrees/flow-cli-teaching-workflow
claude
```

**Implementation Tasks (from spec):**

**Week 1: Core Framework** (~9 hours)
- Teaching project detection enhancement
- Per-course `.flow/teach-config.yml` config
- Enhanced `work` command with teaching session
- Teaching context display
- Branch safety checks

**Week 2: STAT 545 Migration** (~8 hours)
- Automation script templates (4 files)
- `teach-init` command scaffolding
- GitHub Actions workflow
- Scholar integration for quiz/exam generation

**Week 3: Polish & Documentation** (~5 hours)
- Comprehensive testing (unit + integration)
- Documentation and tutorials
- Reference implementation

**Options for Next Session:**

A) **Implement Teaching Workflow** ‚ö°
   - Start NEW session in worktree
   - Follow spec implementation plan
   - Begin with Week 1 core framework

B) **Work on v5.6.0 Project Cache** (NEW) üöÄ
   - High impact: 40x performance improvement
   - Low risk: Opt-in initially, extensive testing
   - Begin with Phase 1 caching layer (~5 hours)
   - Spec: `docs/specs/SPEC-project-cache-auto-discovery.md`

C) **Work on v5.3.0 DOT Enhancements**
   - Secret clipboard integration
   - Interactive secrets dashboard
   - Template validation

D) **Other Projects**
   - Switch to different work

**‚úÖ v5.0.0 Release Complete (2026-01-09):**
- **Status:** Released and deployed
- **Release:** https://github.com/Data-Wise/flow-cli/releases/tag/v5.0.0
- **Documentation:** https://Data-Wise.github.io/flow-cli/ (live)
- **PRs:** #184 (feature), #185 (release) - both merged
- **Tag:** v5.0.0 pushed to remote

**Immediate Next Steps:**

**1. Monitor Homebrew Formula Update** (automatic) üéØ
```bash
# GitHub Actions will create PR to update formula
# Check: https://github.com/Data-Wise/homebrew-tap/pulls
```

**2. Plan v5.1.0 Sprint** (optional, when ready)
```bash
# Priority 1: Critical improvements (~1 hour)
# - File modification detection fix (shasum)
# - Bitwarden error handling
# - Dry-run mode
```

**3. Test Installation** (verify Homebrew formula)
```bash
# After formula PR merges
brew upgrade flow-cli  # Update to v5.0.0
dot help               # Verify new dispatcher
```

---

## üìÖ Enhancement Roadmap (Post v5.0.0 Release)

### **Sprint 1: v5.1.0 - Critical Improvements** (~1 hour)
- File modification detection fix (shasum instead of mtime)
- Bitwarden error handling enhancements
- Dry-run mode for apply operations
- **Target:** 1-2 days after v5.0.0 release

### **Sprint 2: v5.2.0 - Performance** (~2 hours)
- Dashboard status line caching (30s TTL)
- Git operation batching (single fetch)
- **Target:** 1 week after v5.1.0

### **Sprint 3: v5.3.0 - Features** (~2.5 hours)
- Undo implementation (git revert)
- Template preview helper
- Publishing helpers (npm/pypi)
- **Target:** 2 weeks after v5.2.0

### **Sprint 4: v5.4.0 - Code Quality** (~1.5 hours)
- Extract magic numbers to constants
- Input validation for secret names
- Completion enhancements with timeout
- **Target:** 1 week after v5.3.0

### **Sprint 5: v5.5.0 - Observability** (~2 hours)
- Debug mode with FLOW_DOT_DEBUG
- Performance metrics tracking
- **Target:** 1 week after v5.4.0

---

### **Sprint 6: v5.6.0-v5.8.0 - Project Cache & Auto-Discovery** (~14 hours) üÜï

**Status:** Planning Complete ‚úÖ
**Spec:** `docs/specs/SPEC-project-cache-auto-discovery.md` (comprehensive 3-phase plan)
**Created:** 2026-01-11
**Code Review Completed:** Project detection & worktree picker systems

#### Phase 1: v5.6.0 - Caching Layer (~5 hours)

**Goal:** Sub-10ms `pick` response (currently ~200ms with 100+ projects)

**Implementation:**
- `lib/project-cache.zsh` (100 lines) - Cache management system
- Cache file: `~/.cache/flow-cli/projects.cache`
- TTL: 5 minutes (configurable via `PROJ_CACHE_TTL`)
- Auto-refresh on stale cache

**New Commands:**
- `flow cache refresh` - Manual cache regeneration
- `flow cache clear` - Delete cache file
- `flow cache status` - Show cache age and stats

**Performance Target:**
- Cache hit: <10ms (40x faster than current)
- Cache miss: ~200ms (same as current)
- Auto-refresh every 5 minutes

**Files Modified:**
- `commands/pick.zsh` - Use cached list instead of direct scan
- `flow.plugin.zsh` - Source project-cache.zsh

**Testing:**
- `tests/test-project-cache.zsh` - 8 unit tests
- `tests/benchmark-pick.sh` - Performance benchmarks

**Rollout:**
- v5.6.0-alpha: Cache enabled by default
- Feature flag: `FLOW_CACHE_ENABLED=1` (default)
- Monitor for issues via GitHub discussions

**Target:** 2 weeks after v5.5.0

---

#### Phase 2: v5.7.0 - Auto-Discovery (~6 hours)

**Goal:** Zero configuration for project categories (currently hardcoded)

**Implementation:**
- `lib/project-auto-discover.zsh` (150 lines) - Auto-discovery system
- Scans `$FLOW_PROJECTS_ROOT` for git repos (1-2 levels deep)
- Guesses category type from directory name
- User config overrides via `~/.config/flow-cli/project-categories.conf`

**User Configuration File:**
```bash
# ~/.config/flow-cli/project-categories.conf
# Format: path:type:icon

# Custom work category
work/clients:work:üíº
work/internal:work:üè¢

# Override default icon
dev-tools:dev:‚öôÔ∏è
```

**Discovery Algorithm:**
1. Scan top-level directories in `~/projects`
2. Check for git repos (2 levels deep)
3. Guess type from directory name (r-package, dev, quarto, teach, research, app, work, misc)
4. Merge with user config (user > discovered > hardcoded defaults)

**New Commands:**
- `flow discover` - Show discovered categories
- `flow discover refresh` - Re-scan filesystem

**Files Modified:**
- `commands/pick.zsh` - Remove hardcoded `PROJ_CATEGORIES` array
- `flow.plugin.zsh` - Source auto-discover.zsh, init categories

**Testing:**
- `tests/test-auto-discover.zsh` - 6 unit tests
- E2E workflow testing

**Rollout:**
- v5.7.0-beta: Auto-discovery opt-in (`FLOW_AUTO_DISCOVER=1`)
- v5.7.1-stable: Auto-discovery enabled by default
- Hardcoded categories remain as fallback

**Target:** 1 week after v5.6.0

---

#### Phase 3: v5.8.0 - Integration (~3 hours)

**Goal:** Unified type detection across all commands

**Implementation:**
- Integrate `project-detector.zsh` into `pick.zsh`
- Single source of truth for project types
- Automatic icon detection based on project content

**Changes:**
- `commands/pick.zsh` - Use `_flow_detect_project_type()` for accurate icons
- `lib/project-detector.zsh` - Add new types (generic, worktree)

**Benefits:**
- Quarto in dev-tools ‚Üí shows üìù (not üîß)
- Teaching in research ‚Üí shows üéì (not üî¨)
- Consistent icons across `pick`, `work`, `dash`

**Testing:**
- Integration tests across all commands
- Performance benchmarking

**Target:** 1 week after v5.7.0

---

**Total Enhancement Effort (Caching Track):** ~14 hours across 3 releases (v5.6.0-v5.8.0)
**Total Enhancement Effort (All Tracks):** ~23 hours across 8 releases (v5.1.0-v5.8.0)

---

**Reference Documents:**
- **CODE-REVIEW-DOT-DISPATCHER.md** - Complete review with A- grade
- **docs/specs/dotfile-management-plan_1.md** - Original implementation plan
- **DISPATCHER-REFERENCE.md** - Updated with dot as 9th dispatcher
- **.STATUS** - This file (enhancement roadmap)

## Session Log (continued)
- 2026-01-09: DOT DISPATCHER v1.2.0 COMPLETE - All 5 phases implemented ‚úÖ
- 2026-01-09: CODE REVIEW - Comprehensive review completed (A- grade, 91/100)
- 2026-01-09: ENHANCEMENT PLAN - Created 5-release roadmap (v5.1.0 - v5.5.0, ~9 hours)
- 2026-01-09: ROADMAP - Priority-ordered improvements (Critical ‚Üí Features ‚Üí Quality ‚Üí Observability)
- 2026-01-09: PUBLISHING - Documented npm/pypi automation strategy with Bitwarden
- 2026-01-09: STATUS - Updated .STATUS with completion details and enhancement plan
- 2026-01-09: READY - Branch feature/dot-dispatcher ready for pull request
- 2026-01-09: STATISTICS - 16 files created, 4 modified, 3,805 lines, 112+ tests
- 2026-01-09: TESTING - 4 test suites (52+35+15+10 tests, 100% passing)
- 2026-01-09: DOCS - 1,200+ lines (reference, tutorial, secret management)
- 2026-01-09: SECURITY - HISTIGNORE, session-scoped BW_SESSION, audit checks
- 2026-01-09: PERFORMANCE - Dashboard < 100ms, tool detection caching
- 2026-01-09: NEXT - Create PR to dev branch, run final verification
- 2026-01-07: PHASE 3 100% COMPLETE - Command Documentation Standardization ‚úÖ
- 2026-01-07: DOCS - Standardized batch 4: 2 final command files (pick.md, work.md) - Status lines added
- 2026-01-07: DOCS - Standardized batch 3: 9 command files (ai, alias, dashboard, do, install, morning, plugin, timer, upgrade)
- 2026-01-07: DOCS - Standardized batch 2: 4 command files (capture, sync, doctor, config)
- 2026-01-07: DOCS - Standardized batch 1: 5 command files (flow, finish, hop, dash, status)
- 2026-01-07: DOCS - Template compliance: 21% ‚Üí 61% (+40 percentage points)
- 2026-01-07: DOCS - Applied template elements to 32 total files
- 2026-01-07: DOCS - 20/20 command files now 100% standardized
- 2026-01-07: DOCS - Updated PHASE-3-CONTENT-AUDIT.md with 100% completion status
- 2026-01-07: DOCS - Deployed to GitHub Pages (7183c77) - all 32 files live
- 2026-01-07: COMMIT - 6 commits: ff463a3, cfa9c3f (session 1), aac588c, 81e5180, cde0040 (session 2), 258bd26, fb24aa6 (session 3)
- 2026-01-07: DOCS - 100% of high-impact pages + 100% of commands standardized
- 2026-01-05: v4.9.0 PHASE 2 COMPLETE - Interactive Help System ‚úÖ
- 2026-01-05: TEST - Phase 2 comprehensive test suite (47 tests, 100% passing) ‚úÖ
- 2026-01-05: TEST - Created test-phase2-features.zsh (540 lines, 47 test cases)
- 2026-01-05: TEST - Enhanced test-framework.zsh (+40 lines, 4 new helpers)
- 2026-01-05: DOCS - Created TESTING-PHASE2.md (800+ lines, 31 manual test procedures)
- 2026-01-05: FEAT - Interactive help browser with fzf (lib/help-browser.zsh, 146 lines)
- 2026-01-05: FEAT - Context-aware help (6 contexts: R, Node, Git, Quarto, Python, general)
- 2026-01-05: FEAT - Comprehensive alias reference (commands/alias.zsh, 372 lines)
- 2026-01-05: FEAT - Added `als` shortcut for `flow alias`
- 2026-01-05: PR - #179 (Phase 2 feature) merged to dev
- 2026-01-05: COMMIT - Test suite and manual testing guide committed to dev
- 2026-01-05: TEST - All 47 automated tests passing (unit, edge, integration, E2E, regression, performance)
- 2026-01-05: TEST - Phase 1 comprehensive test suite (31 tests, 100% passing) ‚úÖ
- 2026-01-05: TEST - Created test-framework.zsh (336 lines, 14 assertion helpers)
- 2026-01-05: TEST - Created test-phase1-features.zsh (413 lines, 31 test cases)
- 2026-01-05: TEST - Coverage: Unit, Integration, E2E, Regression
- 2026-01-05: PR - #172 (test suite) created, CI running
- 2026-01-05: v4.8.1 RELEASE - Homebrew installation documentation overhaul üöÄ
- 2026-01-05: DOCS - Homebrew now primary installation method across all docs
- 2026-01-05: DOCS - Updated README.md, index.md, installation.md, faq.md
- 2026-01-05: DOCS - Added Homebrew sections: install, update, uninstall, troubleshooting
- 2026-01-05: DOCS - Better onboarding: ~30 seconds vs ~5-10 minutes
- 2026-01-05: PR - #165 (Homebrew docs), #166 (CHANGELOG), #167 (version bump) merged
- 2026-01-05: TAG - v4.8.1 tagged and released on GitHub
- 2026-01-05: HOMEBREW - Formula updated to v4.8.1 (SHA256: eac1196...)
- 2026-01-05: STATUS - Updated .STATUS for v4.8.1 completion
- 2026-01-05: v4.9.0 PHASE 1 COMPLETE - Quick Wins Sprint (PR #170) ‚úÖ
- 2026-01-05: FEAT - First-run welcome message (work command)
- 2026-01-05: FEAT - "See also" cross-references (8 dispatcher helps)
- 2026-01-05: FEAT - Random tips in dashboard (~20% frequency)
- 2026-01-05: FEAT - Quick reference card `ref` command (NEW)
- 2026-01-05: FEAT - EXAMPLES sections (r, qu, tm dispatchers)
- 2026-01-05: PR - #170 merged (9 files, 203 insertions, ~2 hours)
- 2026-01-05: PLANNING - Created v4.9.0 implementation plan (3 phases)
- 2026-01-05: DOCS - BRAINSTORM-installation-help-docs-2026-01-05.md
- 2026-01-05: DOCS - IMPLEMENTATION-PLAN-v4.9.0.md
- 2026-01-05: DOCS - SPEC-v4.9.0-installation-onboarding.md
- 2026-01-05: PR - #169 (planning docs) merged
- 2026-01-02: v4.8.0 RELEASE - CC Unified Grammar shipped! üöÄ
- 2026-01-02: FEAT - Both command orders work (cc opus pick AND cc pick opus)
- 2026-01-02: FEAT - Shell completions (_cc) with context-aware suggestions (134 lines)
- 2026-01-02: FIX - cc haiku eval bug fixed
- 2026-01-02: TEST - 30 unified grammar tests + 24 cc-dispatcher tests (100% pass)
- 2026-01-02: DOCS - Rewrote START-HERE guide (complete overhaul)
- 2026-01-02: DOCS - Added V4.9-ROADMAP.md (5 enhancement options, 616 lines)
- 2026-01-02: DOCS - Fixed all broken documentation links (13 ‚Üí 0 warnings)
- 2026-01-02: DOCS - Deployed clean docs to GitHub Pages (zero warnings)
- 2026-01-02: SPEC - Archived SPEC-cc-unified-grammar-2026-01-02.md (status: Done)
- 2026-01-02: TAG - v4.8.0 tagged and released on GitHub
- 2026-01-02: HOMEBREW - Formula updated via automated PR #9
- 2026-01-02: PRs - #162 (feature), #163 (docs), #164 (final fixes) merged
- 2025-12-31: v4.7.0 RELEASE - iCloud remote sync (`flow sync remote init/disable/status`)
- 2025-12-31: DOCS - Deployed v4.7.0 docs to GitHub Pages
- 2025-12-31: HOMEBREW - Updated formula to v4.7.0
- 2025-12-31: v4.6.5 RELEASE - Worktree frecency scoring, CLAUDE.md updates
- 2025-12-31: v4.6.4 RELEASE - Frecency decay scoring, session indicators on projects
- 2025-12-31: v4.6.3 RELEASE - Frecency sorting, --recent flag, CI apt caching (~17s)
- 2025-12-31: v4.6.2 RELEASE - CI smoke tests (~30s), tests/run-all.sh
- 2025-12-31: v4.6.1 RELEASE - Pick shows worktrees, CI streamlined (4‚Üí1 jobs)
- 2025-12-31: v4.6.0 RELEASE - Worktree-aware pick, session indicators, pick wt
- 2025-12-31: CI - Optimized from 5+ minutes to 14 seconds (apt caching + smoke tests)
- 2025-12-31: FEAT - Frecency decay algorithm (time-based priority scoring)
- 2025-12-31: FEAT - Session indicators (üü¢/üü°) on regular projects
- 2025-12-31: FEAT - `pick --recent` flag for Claude session filtering
- 2025-12-31: v4.5.5 RELEASE - Fixed FLOW_VERSION sync (was 3.6.0 ‚Üí 4.5.5)
- 2025-12-31: FIX - Updated release.sh to include flow.plugin.zsh version
- 2025-12-31: CI - Fixed docs workflow (added mkdocs-exclude plugin)
- 2025-12-31: HOMEBREW - Updated formula to v4.5.5
- 2025-12-31: PR - awesome-zsh-plugins #2058 submitted (all checks pass)
- 2025-12-31: DOCS - Updated CHANGELOG.md, CLAUDE.md, .STATUS for v4.5.5
- 2025-12-30: PLAN - Created INSTALL-IMPROVEMENTS.md (aiterm-style installation)
- 2025-12-30: DOCS - Updated CLAUDE.md with v4.5.0 roadmap
- 2025-12-30: DOCS - Archived all 7 ADR files (obsolete Node.js architecture) (PR #119)
- 2025-12-30: DOCS - Removed Decisions section from mkdocs navigation
- 2025-12-30: DOCS - Archived MIGRATION-v1-to-v2.md (obsolete - v4.4.x) (PR #117)
- 2025-12-30: DOCS - Rewrote PR-WORKFLOW-GUIDE.md for pure ZSH plugin architecture
- 2025-12-30: DOCS - Replaced all npm/Node.js references with ZSH patterns
- 2025-12-30: DOCS - Fixed broken CLAUDE.md link in ADRs README
- 2025-12-30: DOCS - Archived docs/architecture/ and docs/api/ (PR #115)
- 2025-12-30: DOCS - Moved 13 Node.js architecture files to .archive/
- 2025-12-30: DOCS - Rewrote 00-welcome.md for v4.4.x ZSH plugin
- 2025-12-30: DOCS - Fixed 12 files with broken architecture/API links
- 2025-12-30: DOCS - Fixed stale Node.js references across docs (PR #113)
- 2025-12-30: DOCS - Rewrote CONTRIBUTING.md for pure ZSH development
- 2025-12-30: DOCS - Added deprecation notice to ADRs (archived Node.js CLI)
- 2025-12-30: DOCS - Updated troubleshooting.md (removed npm/node dependencies)
- 2025-12-30: DOCS - Rewrote TESTING.md for ZSH test suite (PR #111)
- 2025-12-30: DOCS - Removed 736 lines of outdated Node.js/Jest docs
- 2025-12-30: DOCS - Added ZSH test framework, CI integration docs
- 2025-12-30: v4.4.3 RELEASE - CI automation improvements (PR #109)
- 2025-12-30: TAG - v4.4.3 tagged and pushed
- 2025-12-30: CI - Added all 8 dispatcher tests to CI workflow (PR #107)
- 2025-12-30: CI - Split tm tests on macOS for continue-on-error handling
- 2025-12-30: CI - TM tests gracefully skip when aiterm not installed
- 2025-12-30: v4.4.2 RELEASE - Complete dispatcher test coverage
- 2025-12-30: TEST - Created 85 new dispatcher tests (r, qu, mcp, tm, obs)
- 2025-12-30: DOCS - Updated CHANGELOG.md for v4.4.2
- 2025-12-30: TAG - v4.4.2 tagged and pushed
- 2025-12-30: DOCS - Deployed updated docs to GitHub Pages
- 2025-12-29: v4.2.0 RELEASE - Worktree + Claude Integration
- 2025-12-29: FEAT - Added `cc wt <branch>` for Claude in worktrees
- 2025-12-29: FEAT - Added `cc wt pick` (fzf picker), mode chaining (yolo/plan/opus/haiku)
- 2025-12-29: FEAT - Added `_wt_get_path()` helper to wt-dispatcher
- 2025-12-29: FEAT - Added aliases: ccw, ccwy, ccwp
- 2025-12-29: TEST - Created tests/test-cc-wt.zsh (20 tests)
- 2025-12-29: FIX - Renamed `local path` ‚Üí `local result_path` (zsh path array conflict)
- 2025-12-29: DOCS - Updated CC-DISPATCHER-REFERENCE.md, DISPATCHER-REFERENCE.md
- 2025-12-29: PLAN - Added v4.2.0 roadmap (hotfix, branch cleanup, worktree+claude)
- 2025-12-29: DOCS - Site updated for v4.1.0 (PR #66), deployed to GitHub Pages
- 2025-12-29: v4.1.0 RELEASE - Git Feature Branch Workflow
- 2025-12-29: FEAT - Added `g feature` commands (start, sync, list, finish)
- 2025-12-29: FEAT - Added `g promote` (PR: feature ‚Üí dev) and `g release` (PR: dev ‚Üí main)
- 2025-12-29: FEAT - Added workflow guard for protected branches (main, dev)
- 2025-12-29: FEAT - Added `wt` dispatcher for git worktree management
- 2025-12-29: TEST - Created 33 new tests (16 g feature + 17 wt dispatcher)
- 2025-12-29: DOCS - Updated DISPATCHER-REFERENCE.md with new commands
- 2025-12-29: INFRA - Created dev branch, established feature ‚Üí dev ‚Üí main workflow
- 2025-12-29: PRs - #62 (feature ‚Üí dev), #63 (dev ‚Üí main), #64 (version bump)
- 2025-12-27: DOCS - ADHD-friendly redesign of README + front page (PR #52)
- 2025-12-27: DOCS - Added collapsible demo sections (PRs #53, #54)
- 2025-12-27: DOCS - Added prettierignore for docs markdown (PR #55)
- 2025-12-27: DOCS - Fixed broken relative links (PR #56)
- 2025-12-27: DOCS - Archived 22 files with broken links (PR #57)
- 2025-12-27: CI - Added lychee link check to CI (PR #58)
- 2025-12-27: DOCS - Created animated terminal demo GIF with VHS (PR #59)
- 2025-12-27: CI - Made link check blocking (PR #60)
- 2025-12-29: v4.2.0 RELEASE - Deployed to GitHub Pages (PR #79 merged)
- 2025-12-29: TAG - v4.2.0 tagged and pushed to origin
- 2025-12-29: DOCS - Full documentation validation and sync
- 2026-01-07: DOCS - Command documentation 100% complete (batch 4: pick.md, work.md)
- 2026-01-07: DOCS - Added Status lines to final 2 command files
- 2026-01-07: DOCS - Template compliance: 59% ‚Üí 61% (20/20 commands standardized)
- 2026-01-07: DOCS - Updated PHASE-3-CONTENT-AUDIT.md with 100% completion status
- 2026-01-07: DOCS - Deployed to GitHub Pages (commit 7183c77)
- 2026-01-07: DOCS - All 32 standardized files live at https://Data-Wise.github.io/flow-cli/
- 2026-01-07: STATUS - Updated .STATUS with Phase 3 100% completion details
- 2026-01-07: DOCS - Created Documentation Making Guide (972 lines, commit 4fcb841)
- 2026-01-07: RELEASE - Created PR #182 (dev ‚Üí main) for v4.9.2 release
- 2026-01-07: RELEASE - Merged PR #182 (Phase 3 complete work)
- 2026-01-07: RELEASE - Ran release script: ./scripts/release.sh 4.9.2
- 2026-01-07: RELEASE - Created PR #183 (version bump)
- 2026-01-07: RELEASE - Merged PR #183 after CI passed
- 2026-01-07: RELEASE - Tagged v4.9.2 with comprehensive release notes
- 2026-01-07: RELEASE - Pushed v4.9.2 tag to GitHub
- 2026-01-07: RELEASE - Published v4.9.2 on GitHub (23:29:49 UTC)
- 2026-01-07: RELEASE - v4.9.2 live at https://github.com/Data-Wise/flow-cli/releases/tag/v4.9.2
- 2026-01-07: RELEASE - Synchronized dev and main branches
- 2026-01-07: STATUS - Updated .STATUS with v4.9.2 release details
- 2026-01-09: DOCS - Generated comprehensive dot dispatcher documentation (craft:docs:update)
- 2026-01-09: DOCS - Created DOTFILE-MANAGEMENT.md (700+ lines), REFCARD-DOT.md (230+ lines)
- 2026-01-09: DOCS - Created VHS tape demo (dot-dispatcher.tape)
- 2026-01-09: DOCS - Updated README.md, CLAUDE.md, COMMAND-QUICK-REFERENCE.md, mkdocs.yml
- 2026-01-09: DOCS - Created validation script (validate-dot-docs.sh, all checks passing)
- 2026-01-09: PR - Created #184 (feat: dot dispatcher, feature ‚Üí dev, +12,486/-68 lines)
- 2026-01-09: PR - Merged #184 (dot dispatcher feature) with squash
- 2026-01-09: RELEASE - Ran release script: ./scripts/release.sh 5.0.0
- 2026-01-09: RELEASE - Updated 5 files (package.json, README, CLAUDE.md, flow.plugin.zsh, .claude/settings.local.json)
- 2026-01-09: PR - Created #185 (Release v5.0.0, dev ‚Üí main)
- 2026-01-09: PR - Merged #185 (40 files, +12,541/-67 lines)
- 2026-01-09: TAG - Created v5.0.0 tag with message "v5.0.0 - Dotfile Management with Bitwarden Secrets"
- 2026-01-09: TAG - Pushed v5.0.0 tag to remote (855c2fb)
- 2026-01-09: RELEASE - Created GitHub release v5.0.0 with comprehensive release notes
- 2026-01-09: RELEASE - v5.0.0 live at https://github.com/Data-Wise/flow-cli/releases/tag/v5.0.0
- 2026-01-09: DOCS - Deployed v5.0.0 documentation to GitHub Pages (d26512b)
- 2026-01-09: DOCS - Live at https://Data-Wise.github.io/flow-cli/
- 2026-01-09: STATUS - Updated .STATUS with v5.0.0 release completion
- 2026-01-09: COMPLETE - v5.0.0 fully released (tag, release, docs deployed)
- 2026-01-10: TEST - Created test-dot-v5.1.1-unit.zsh (19 unit tests for new DOT features)
- 2026-01-10: TEST - Created test-dot-v5.1.1-e2e.zsh (14 E2E tests with real chezmoi)
- 2026-01-10: TEST - Created interactive-dot-dogfooding.zsh (8 dishes, "Dotfile Chef" theme)
- 2026-01-10: TEST - Fixed nullglob for cleanup (no matches error)
- 2026-01-10: TEST - Fixed read-only variable `status` ‚Üí `resolve_status`
- 2026-01-10: TEST - Fixed ask_confirmation Enter handling (newline as default)
- 2026-01-10: TEST - Total DOT test coverage: 104 automated tests (71 + 19 + 14)
- 2026-01-10: SPEC - Created SPEC-dot-secret-management-v2-2026-01-10.md
- 2026-01-10: SPEC - Deep brainstorm: 8 questions, full lifecycle features
- 2026-01-10: SPEC - Phases: Foundation ‚Üí Token Wizards ‚Üí Lifecycle
- 2026-01-10: SPEC - Features: dot secret add, dot token github/npm/pypi, dot secrets dashboard
- 2026-01-10: SPEC - Security: 15-min cache, expiration tracking, no secrets in history
- 2026-01-10: STATUS - Updated .STATUS with test suite and spec completion
- 2026-01-11: FEAT - Implemented Secret Management v2.0 Phase 1 (dot secret add/check, dot lock)
- 2026-01-11: FEAT - Added 15-min session cache with auto-lock (7 helper functions)
- 2026-01-11: FEAT - Added vault status to `dot` status display (time remaining)
- 2026-01-11: TEST - Added Test Suite 13 with 22 new tests (93 total unit tests)
- 2026-01-11: DOCS - Updated help text with new secret commands
- 2026-01-11: PR - Created #198 (feature/secret-management-v2-phase1 ‚Üí main)
- 2026-01-10: FEAT - Implemented Secret Management v2.0 Phase 2 (Token Wizards)
- 2026-01-10: FEAT - Added `dot token github` wizard (classic/fine-grained PAT)
- 2026-01-10: FEAT - Added `dot token npm` wizard (automation/read-only/granular)
- 2026-01-10: FEAT - Added `dot token pypi` wizard (account/project-scoped)
- 2026-01-10: FEAT - Added `dot secrets` dashboard with expiration tracking
- 2026-01-10: TEST - Added Test Suite 14 with 18 new tests (111 total unit tests)
- 2026-01-10: DOCS - Updated dot help with TOKEN WIZARDS section
- 2026-01-10: VERSION - Bumped dot dispatcher to v2.0.0
- 2026-01-10: GIT - Created feature/secret-management-v2-phase2 branch
- 2026-01-10: GIT - Pushed Phase 2 implementation
- 2026-01-10: FEAT - Implemented Secret Management v2.0 Phase 3 (Token Rotation)
- 2026-01-10: FEAT - Added `dot token <name> --refresh` for rotating tokens
- 2026-01-10: FEAT - Added _dot_token_refresh() function with full rotation flow
- 2026-01-10: FEAT - Added --refresh/-r/refresh flag parsing to _dot_token()
- 2026-01-10: FEAT - Added rotation history tracking (rotated_from metadata)
- 2026-01-10: TEST - Added Test Suite 15 with 10 new tests (121 total unit tests)
- 2026-01-10: DOCS - Updated dot help with TOKEN MANAGEMENT section
- 2026-01-10: VERSION - Bumped dot dispatcher to v2.1.0
- 2026-01-10: PR - Created #200 (feature/secret-management-v2-phase3 ‚Üí main)
- 2026-01-10: PR - Merged #200 (Token Rotation, 391 lines added)
- 2026-01-10: COMPLETE - Secret Management v2.0 all 3 phases complete!
- 2026-01-11: FEAT - Implemented `dot secrets sync github` (sync to GitHub repo secrets)
- 2026-01-11: FEAT - Implemented `dot env init` (direnv integration)
- 2026-01-11: FEAT - Added INTEGRATION section to `dot help`
- 2026-01-11: FEAT - Added _dot_secrets_help() and _dot_env_help() functions
- 2026-01-11: TEST - Added Test Suite 16 with 13 integration tests (134 total)
- 2026-01-11: VERSION - Bumped dot dispatcher to v2.2.0
- 2026-01-11: PR - Created #202 (feature/secret-management-v2-sync ‚Üí main)
- 2026-01-11: PR - Merged #202 (Integration features, 608 lines added)
- 2026-01-11: COMPLETE - Secret Management v2.0 ALL SPEC FEATURES DONE!
- 2026-01-11: RELEASE - v5.2.0 released (PR #204, tag pushed)
- 2026-01-11: DOCS - Updated all DOT documentation for v5.2.0 (PR #205)
- 2026-01-11: DOCS - Tutorial, workflow guide, management guide updated (+968 lines)
- 2026-01-11: DOCS - Deployed to GitHub Pages (all v5.2.0 features documented)
- 2026-01-11: VERIFY - All enhancements 1-4 verified complete (already implemented)
- 2026-01-11: ARCHIVE - Archived plan file (jolly-leaping-naur-COMPLETED-2026-01-11.md)
- 2026-01-11: STATUS - Updated .STATUS to mark v5.2.0 fully complete
- 2026-01-11: CLEANUP - Deleted 9 orphaned local branches, 4 remote branches (11 days old)
- 2026-01-11: ROADMAP - Updated v5.3.0 with 3 new features (PR #207)
- 2026-01-11: WORKFLOW - Created dev branch, established feature ‚Üí dev ‚Üí main (PR #208)
- 2026-01-11: DOCS - Created BRANCH-WORKFLOW.md (323 lines, comprehensive guide)
- 2026-01-11: DOCS - Updated PR-WORKFLOW-GUIDE.md with dev branch strategy
- 2026-01-11: DOCS - Created .claude/WORKFLOW-PROTOCOL.md (197 lines, 4-phase protocol)
- 2026-01-11: DOCS - Updated CLAUDE.md with workflow protocol section
- 2026-01-11: PLANNING - Deep brainstorm for teaching workflow (16 questions, user decisions)
- 2026-01-11: SPEC - Created SPEC-teaching-workflow.md (911 lines, approved plan)
- 2026-01-11: SPEC - STAT 545 first implementation, work command extension, 3-tier automation
- 2026-01-11: SPEC - Scholar integration (direct calls), Nexus integration (parallel)
- 2026-01-11: GIT - Committed teaching workflow spec to dev branch (b805c2e)
- 2026-01-11: WORKTREE - Created flow-cli-teaching-workflow worktree from dev
- 2026-01-11: PROTOCOL - Ready for NEW session per workflow protocol (no same-session impl)
- 2026-01-11: SESSION - 2.5 hours (branch cleanup, workflow setup, teaching spec)
