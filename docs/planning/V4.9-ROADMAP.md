# v4.9.0 Roadmap - Future Enhancements

**Created:** 2026-01-02
**Status:** Planning / Brainstorm
**Previous:** v4.8.0 - CC Unified Grammar âœ… COMPLETE

---

## Overview

Post-v4.8.0 enhancement ideas for flow-cli, focusing on user experience, workflow optimization, and ADHD-friendly features.

---

## Option 1: Installation & Onboarding ğŸ“¦

**Priority:** High
**Effort:** Medium (2-3 days)
**Impact:** New user experience

### Goals
- Zero-friction installation for new users
- Professional onboarding experience (aiterm quality)
- Self-healing dependency management

### Features

#### 1.1 One-Liner Install Script
```bash
curl -fsSL https://raw.githubusercontent.com/Data-Wise/flow-cli/main/install.sh | bash
```

**Features:**
- Auto-detect plugin manager (antidote, zinit, oh-my-zsh)
- Install dependencies via Homebrew/apt
- Setup configuration files
- Run initial health check
- Print next steps

**Reference:** `/Users/dt/projects/dev-tools/aiterm/install.sh`

#### 1.2 Enhanced `flow doctor`
```bash
flow doctor           # Health check (current)
flow doctor --fix     # Interactive install (NEW!)
```

**Interactive Mode:**
- Detect missing dependencies
- Offer to install each one
- Show installation commands
- Verify after install
- Summary report

**Example Flow:**
```
ğŸ¥ flow-cli Health Check

âŒ fzf not found
   Install? [Y/n] y
   â†’ brew install fzf
   âœ… fzf installed successfully

âŒ atlas not found
   Install? [Y/n] n
   âš ï¸  Skipped (optional dependency)

âœ… All required dependencies installed!
```

#### 1.3 First-Run Experience
```bash
# After first install
flow setup            # Interactive wizard
```

**Wizard Steps:**
1. Welcome message
2. Set `FLOW_PROJECTS_ROOT`
3. Enable atlas integration? (y/n)
4. Configure git defaults
5. Set daily goal (wins)
6. Test project picker
7. Done! Show quick reference

#### 1.4 Installation Comparison Table

**README.md addition:**
```markdown
## Installation Methods

| Method | Speed | Auto-updates | Recommended For |
|--------|-------|--------------|-----------------|
| One-liner | âš¡ Fastest | âœ… Yes | New users |
| Homebrew | ğŸ”§ Moderate | âœ… Yes | macOS users |
| Plugin manager | ğŸ¯ Custom | âš ï¸ Manual | Power users |
| Git clone | ğŸ› ï¸ Manual | âŒ No | Contributors |
```

### Implementation Tasks
- [ ] Create `install.sh` (one-liner installer)
- [ ] Add `flow doctor --fix` interactive mode
- [ ] Create `flow setup` wizard
- [ ] Update `docs/getting-started/installation.md`
- [ ] Add installation comparison table to README
- [ ] Test on fresh environment (macOS + Linux)

### Success Metrics
- Installation time < 60 seconds
- Zero manual configuration needed
- 90%+ success rate on fresh systems

---

## Option 2: Pick Enhancements ğŸ¯

**Priority:** Medium
**Effort:** Small (1 day)
**Impact:** Daily workflow improvement

### Goals
- Faster project selection
- Better category support
- Multi-project operations

### Features

#### 2.1 Quick Aliases
```bash
pickr             # pick --recent (frecency sorted)
pickdev           # pick dev (dev tools only)
pickwt            # pick wt (worktrees only)
```

**Already exists:** Some aliases defined, formalize them

#### 2.2 Session Conflict Detection
```bash
pick              # Shows warning if project has active session
```

**Example:**
```
âš ï¸  flow-cli has an active session (12 min ago)
   Continue anyway? [Y/n]
```

#### 2.3 Multi-Project Selection
```bash
pick --multi      # Select multiple projects
```

**Use cases:**
- Bulk status check: `pick --multi | xargs -I {} git -C {} status`
- Batch operations: `pick --multi | xargs -I {} flow sync`

#### 2.4 Category Management
```bash
flow category list              # Show all categories
flow category create <name>     # Create custom category
flow category add <proj> <cat>  # Add project to category
```

**Config file:** `~/.config/flow-cli/categories.json`

### Implementation Tasks
- [ ] Formalize `pickr`, `pickdev`, `pickwt` aliases
- [ ] Add session conflict detection
- [ ] Implement `--multi` flag
- [ ] Create category management system
- [ ] Update pick documentation

### Success Metrics
- Aliases reduce keystrokes by 50%
- Zero accidental session conflicts
- Category system adopted by 30%+ users

---

## Option 3: Remote Sync Polish â˜ï¸

**Priority:** Medium
**Effort:** Medium (2 days)
**Impact:** Multi-device workflows

### Goals
- Seamless sync across devices
- Conflict resolution
- Team collaboration features

### Features

#### 3.1 Worklog Sync
```bash
flow sync remote init --include worklog
```

**Currently synced:**
- Wins (worklog.json)
- Goals (flow.config.json)
- Streaks (derived from wins)

**Add to sync:**
- Session history
- Project bookmarks
- Custom categories

#### 3.2 Conflict Resolution UI
```bash
flow sync          # Detects conflicts
```

**Example:**
```
âš ï¸  Sync conflict detected:

  Local:  3 wins today (last: 2h ago)
  Remote: 2 wins today (last: 5h ago)

  [K]eep local  [T]ake remote  [M]erge both  [V]iew diff
```

#### 3.3 Multi-Device Dashboard
```bash
flow devices       # Show all synced devices
```

**Output:**
```
ğŸ“± Synced Devices:

  MacBook Pro     Last sync: 2 min ago    âœ… Up to date
  iMac            Last sync: 3 hours ago  âš ï¸  Behind
  Work Laptop     Last sync: 2 days ago   âŒ Stale

  Run 'flow sync' to sync this device
```

#### 3.4 Team Features (Shared Templates)
```bash
flow template share <name>     # Share template with team
flow template import <url>     # Import team template
```

**Use case:** Team lead creates workflow template, team members import

### Implementation Tasks
- [ ] Add worklog to sync scope
- [ ] Implement conflict resolution UI
- [ ] Create multi-device dashboard
- [ ] Design team template system
- [ ] Update sync documentation

### Success Metrics
- 99.9% sync reliability
- Conflicts auto-resolved 80%+ of time
- Template sharing adopted by teams

---

## Option 4: MCP Integration ğŸ”Œ

**Priority:** High (complements MCP server work)
**Effort:** Medium (2 days)
**Impact:** Developer productivity

### Goals
- First-class MCP server management
- Integration with `dash` and status commands
- Quick troubleshooting

### Features

#### 4.1 Enhanced MCP Commands
```bash
mcp validate              # Check all servers health
mcp validate --fix        # Auto-restart failed servers
mcp logs <server> --tail  # Live log streaming
mcp restart <server>      # Quick restart
mcp test <server>         # Integration test
```

**Example `mcp validate` output:**
```
ğŸ”Œ MCP Server Health Check

âœ… statistical-research  Healthy (14 tools, 17 skills)
âŒ github                Failed (connection timeout)
âš ï¸  playwright           Degraded (high latency: 2.3s)

  2/3 servers healthy
  Run 'mcp validate --fix' to restart failed servers
```

#### 4.2 Dashboard Integration
```bash
dash              # Shows MCP status
```

**Add section:**
```
ğŸ”Œ MCP Servers:
  âœ… 2 healthy  âŒ 1 failed  âš ï¸ 1 degraded
```

#### 4.3 Status Bar Integration
```bash
# In status line
MCP: 2/3 âœ…
```

#### 4.4 Quick Troubleshooting
```bash
mcp doctor <server>       # Diagnose issues
```

**Example:**
```
ğŸ©º Diagnosing: statistical-research

âœ… Server binary found: /Users/dt/.bun/bin/statistical-research
âœ… Node.js version: v20.10.0
âŒ Port 3000 already in use
âš ï¸  Config file outdated (v1.2.0, latest: v1.3.0)

Recommendations:
  1. Kill process on port 3000: lsof -ti:3000 | xargs kill
  2. Update config: mcp update statistical-research
```

### Implementation Tasks
- [ ] Add `mcp validate` command
- [ ] Implement `mcp logs --tail` (live streaming)
- [ ] Add `mcp restart` and `mcp test`
- [ ] Create `mcp doctor` diagnostic tool
- [ ] Integrate MCP status into `dash`
- [ ] Add MCP status to statusline
- [ ] Update MCP dispatcher documentation

### Success Metrics
- MCP issues detected before user notices (90%)
- Troubleshooting time reduced by 70%
- Zero manual config file editing

---

## Option 5: ADHD Features ğŸ§ 

**Priority:** High (core mission)
**Effort:** Medium (3 days)
**Impact:** User engagement & retention

### Goals
- Reduce distractions
- Build sustainable habits
- Visible progress & motivation

### Features

#### 5.1 Focus Mode
```bash
focus on          # Enable focus mode
focus off         # Disable focus mode
```

**When enabled:**
- Hides non-essential `dash` sections
- Disables notifications
- Blocks distracting commands (e.g., `hop` â†’ "Stay focused!")
- Shows only current project + next task

**Example:**
```
ğŸ¯ FOCUS MODE

  Current: flow-cli
  Next: Fix bug #123
  Time: 47 min

  Type 'focus off' to exit
```

#### 5.2 Break Reminders
```bash
pom               # Start 25-min Pomodoro
pom 15            # Custom duration
```

**After timer:**
```
ğŸ… Time for a break! (25 min)

  Wins today: 3
  Next session starts in 5 min

  [S]tart break  [C]ontinue working  [F]inish
```

#### 5.3 Daily Review
```bash
yay --today       # Today's summary
```

**Output:**
```
ğŸ“Š Today's Progress (Jan 2, 2026)

  ğŸ† Wins: 5
     ğŸ’» 3 code
     ğŸ“ 1 docs
     ğŸš€ 1 ship

  â±ï¸  Time: 3h 42m
  ğŸ”¥ Streak: 7 days

  Top projects:
    flow-cli    2h 15m  (3 wins)
    scribe      1h 27m  (2 wins)

  Goal: 3 wins âœ… ACHIEVED! (+2 bonus)
```

#### 5.4 Visual Progress Bars
```bash
flow goal         # Show progress
```

**Enhanced output:**
```
Daily Goal: 3 wins

  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  5/3 wins (167%)

  ğŸ‰ Goal exceeded! Great job!
```

#### 5.5 Motivational Messages
```bash
win "Fixed bug"
```

**Response:**
```
ğŸ”§ fix: Fixed bug
   âœ¨ Win #5 today!
   ğŸ”¥ 7-day streak - You're on fire!
   ğŸ¯ Goal achieved! (5/3 wins)
```

#### 5.6 Habit Tracking
```bash
flow habit track <name>    # Track daily habit
flow habit stats           # Show habit stats
```

**Example:**
```
ğŸ“ˆ Habit Stats (Last 30 days)

  âœ… Daily coding   28/30 (93%)
  âœ… Documentation  22/30 (73%)
  âŒ Tests          14/30 (47%)

  Longest streak: 14 days (coding)
```

### Implementation Tasks
- [ ] Create `focus` command with mode toggle
- [ ] Enhance `pom` with break reminders
- [ ] Add `yay --today` daily summary
- [ ] Add progress bars to `flow goal`
- [ ] Enhance win messages with motivation
- [ ] Create habit tracking system
- [ ] A/B test motivational messages

### Success Metrics
- Focus mode usage: 40%+ of sessions
- Daily goal achievement rate: 70%+
- Habit streak average: 5+ days
- User retention: +20%

---

## Recommendation: Phased Approach

### Phase 1 (v4.9.0): Foundation - 1 week
**Focus:** Installation & Onboarding
- One-liner install
- `flow doctor --fix`
- Installation docs
- Fresh environment testing

**Why first:** Removes barrier to entry, improves new user experience

### Phase 2 (v4.10.0): Productivity - 1 week
**Focus:** MCP Integration + Pick Enhancements
- `mcp validate`, `mcp logs --tail`
- Pick aliases (`pickr`, `pickdev`, `pickwt`)
- Session conflict detection

**Why second:** Builds on existing features, high daily impact

### Phase 3 (v5.0.0): Engagement - 2 weeks
**Focus:** ADHD Features
- Focus mode
- Enhanced goal tracking with progress bars
- Daily review (`yay --today`)
- Motivational messages

**Why third:** Requires user research, A/B testing, polish

### Phase 4 (v5.1.0): Collaboration - 1 week
**Focus:** Remote Sync Polish
- Worklog sync
- Conflict resolution
- Multi-device dashboard
- Team templates

**Why last:** Requires multi-user testing, server infrastructure

---

## Quick Wins (Can ship anytime)

### Low-hanging fruit (< 1 day each):
- [ ] `pickr` alias for `pick --recent`
- [ ] Add worklog to sync scope
- [ ] Progress bars in `flow goal`
- [ ] `mcp logs --tail` command
- [ ] Session conflict warning in `pick`

### Zero-code documentation improvements:
- [ ] Installation comparison table (README)
- [ ] MCP troubleshooting guide
- [ ] ADHD feature showcase video
- [ ] Tips & tricks reference card

---

## User Research Questions

Before implementing ADHD features (Phase 3):

1. **Focus mode:** What distractions matter most?
2. **Break reminders:** Preferred timing? (25/15/custom?)
3. **Motivational messages:** Helpful or annoying?
4. **Habit tracking:** Which habits to track?
5. **Goal setting:** Daily/weekly/both?

**Method:** Survey users, analyze usage data, run beta tests

---

## Dependencies & Prerequisites

### Option 1 (Installation):
- None (standalone)

### Option 2 (Pick):
- Existing pick infrastructure âœ…

### Option 3 (Sync):
- iCloud/remote storage setup âœ…
- Conflict resolution algorithm (NEW)

### Option 4 (MCP):
- MCP server architecture âœ…
- Log streaming library (NEW)

### Option 5 (ADHD):
- User research (NEW)
- Analytics/telemetry (optional)

---

## Success Metrics (Overall)

**Adoption:**
- Installation success rate: 95%+
- Active weekly users: +30%
- Retention (30-day): 70%+

**Engagement:**
- Daily goal achievement: 70%+
- Focus mode usage: 40%+
- MCP health check usage: 60%+

**Quality:**
- Bug reports: -50%
- Support requests: -40%
- GitHub stars: +500

---

## Open Questions

1. **Telemetry:** Anonymous usage stats? (opt-in)
2. **Premium features:** Team templates paid?
3. **Platform support:** Windows/Linux priority?
4. **AI integration:** Claude-powered suggestions?
5. **Mobile app:** Companion iOS/Android app?

---

## Related Documents

- **Current:** `.STATUS` (v4.8.0 complete)
- **Previous:** `V4.3-ROADMAP.md`
- **Installation:** `INSTALL-IMPROVEMENTS.md`
- **Specs:** `docs/specs/SPEC-cc-unified-grammar-2026-01-02.md`

---

**Next Step:** Review with stakeholders, prioritize based on user feedback

**Updated:** 2026-01-02
